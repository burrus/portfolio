{"version":3,"file":"js/245.017b31f4.js","mappings":"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","sources":["webpack://portfolio/./node_modules/v-viewer/dist/index.es.js","webpack://portfolio/./node_modules/viewerjs/dist/viewer.js"],"sourcesContent":["import Viewer from \"viewerjs\";\nexport { default as Viewer } from \"viewerjs\";\nimport Vue from \"vue\";\nvar freeGlobal = typeof global == \"object\" && global && global.Object === Object && global;\nvar freeGlobal$1 = freeGlobal;\nvar freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\nvar root = freeGlobal$1 || freeSelf || Function(\"return this\")();\nvar root$1 = root;\nvar Symbol$1 = root$1.Symbol;\nvar Symbol$2 = Symbol$1;\nvar objectProto$8 = Object.prototype;\nvar hasOwnProperty$6 = objectProto$8.hasOwnProperty;\nvar nativeObjectToString$1 = objectProto$8.toString;\nvar symToStringTag$1 = Symbol$2 ? Symbol$2.toStringTag : void 0;\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty$6.call(value, symToStringTag$1), tag = value[symToStringTag$1];\n  try {\n    value[symToStringTag$1] = void 0;\n    var unmasked = true;\n  } catch (e) {\n  }\n  var result = nativeObjectToString$1.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\nvar objectProto$7 = Object.prototype;\nvar nativeObjectToString = objectProto$7.toString;\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\nvar nullTag = \"[object Null]\", undefinedTag = \"[object Undefined]\";\nvar symToStringTag = Symbol$2 ? Symbol$2.toStringTag : void 0;\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === void 0 ? undefinedTag : nullTag;\n  }\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\nfunction isObjectLike(value) {\n  return value != null && typeof value == \"object\";\n}\nvar symbolTag = \"[object Symbol]\";\nfunction isSymbol(value) {\n  return typeof value == \"symbol\" || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\nvar isArray = Array.isArray;\nvar isArray$1 = isArray;\nvar reWhitespace = /\\s/;\nfunction trimmedEndIndex(string) {\n  var index2 = string.length;\n  while (index2-- && reWhitespace.test(string.charAt(index2))) {\n  }\n  return index2;\n}\nvar reTrimStart = /^\\s+/;\nfunction baseTrim(string) {\n  return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, \"\") : string;\n}\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == \"object\" || type == \"function\");\n}\nvar NAN = 0 / 0;\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\nvar reIsBinary = /^0b[01]+$/i;\nvar reIsOctal = /^0o[0-7]+$/i;\nvar freeParseInt = parseInt;\nfunction toNumber(value) {\n  if (typeof value == \"number\") {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n    value = isObject(other) ? other + \"\" : other;\n  }\n  if (typeof value != \"string\") {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\nfunction identity(value) {\n  return value;\n}\nvar asyncTag = \"[object AsyncFunction]\", funcTag$1 = \"[object Function]\", genTag = \"[object GeneratorFunction]\", proxyTag = \"[object Proxy]\";\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == funcTag$1 || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\nvar coreJsData = root$1[\"__core-js_shared__\"];\nvar coreJsData$1 = coreJsData;\nvar maskSrcKey = function() {\n  var uid = /[^.]+$/.exec(coreJsData$1 && coreJsData$1.keys && coreJsData$1.keys.IE_PROTO || \"\");\n  return uid ? \"Symbol(src)_1.\" + uid : \"\";\n}();\nfunction isMasked(func) {\n  return !!maskSrcKey && maskSrcKey in func;\n}\nvar funcProto$1 = Function.prototype;\nvar funcToString$1 = funcProto$1.toString;\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString$1.call(func);\n    } catch (e) {\n    }\n    try {\n      return func + \"\";\n    } catch (e) {\n    }\n  }\n  return \"\";\n}\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\nvar funcProto = Function.prototype, objectProto$6 = Object.prototype;\nvar funcToString = funcProto.toString;\nvar hasOwnProperty$5 = objectProto$6.hasOwnProperty;\nvar reIsNative = RegExp(\n  \"^\" + funcToString.call(hasOwnProperty$5).replace(reRegExpChar, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"\n);\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\nfunction getValue(object, key) {\n  return object == null ? void 0 : object[key];\n}\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : void 0;\n}\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0:\n      return func.call(thisArg);\n    case 1:\n      return func.call(thisArg, args[0]);\n    case 2:\n      return func.call(thisArg, args[0], args[1]);\n    case 3:\n      return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\nvar HOT_COUNT = 800, HOT_SPAN = 16;\nvar nativeNow = Date.now;\nfunction shortOut(func) {\n  var count = 0, lastCalled = 0;\n  return function() {\n    var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(void 0, arguments);\n  };\n}\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\nvar defineProperty = function() {\n  try {\n    var func = getNative(Object, \"defineProperty\");\n    func({}, \"\", {});\n    return func;\n  } catch (e) {\n  }\n}();\nvar defineProperty$1 = defineProperty;\nvar baseSetToString = !defineProperty$1 ? identity : function(func, string) {\n  return defineProperty$1(func, \"toString\", {\n    \"configurable\": true,\n    \"enumerable\": false,\n    \"value\": constant(string),\n    \"writable\": true\n  });\n};\nvar baseSetToString$1 = baseSetToString;\nvar setToString = shortOut(baseSetToString$1);\nvar setToString$1 = setToString;\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n  return !!length && (type == \"number\" || type != \"symbol\" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);\n}\nfunction baseAssignValue(object, key, value) {\n  if (key == \"__proto__\" && defineProperty$1) {\n    defineProperty$1(object, key, {\n      \"configurable\": true,\n      \"enumerable\": true,\n      \"value\": value,\n      \"writable\": true\n    });\n  } else {\n    object[key] = value;\n  }\n}\nfunction eq(value, other) {\n  return value === other || value !== value && other !== other;\n}\nvar objectProto$5 = Object.prototype;\nvar hasOwnProperty$4 = objectProto$5.hasOwnProperty;\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty$4.call(object, key) && eq(objValue, value)) || value === void 0 && !(key in object)) {\n    baseAssignValue(object, key, value);\n  }\n}\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n  var index2 = -1, length = props.length;\n  while (++index2 < length) {\n    var key = props[index2];\n    var newValue = customizer ? customizer(object[key], source[key], key, object, source) : void 0;\n    if (newValue === void 0) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\nvar nativeMax$1 = Math.max;\nfunction overRest(func, start, transform) {\n  start = nativeMax$1(start === void 0 ? func.length - 1 : start, 0);\n  return function() {\n    var args = arguments, index2 = -1, length = nativeMax$1(args.length - start, 0), array = Array(length);\n    while (++index2 < length) {\n      array[index2] = args[start + index2];\n    }\n    index2 = -1;\n    var otherArgs = Array(start + 1);\n    while (++index2 < start) {\n      otherArgs[index2] = args[index2];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\nfunction baseRest(func, start) {\n  return setToString$1(overRest(func, start, identity), func + \"\");\n}\nvar MAX_SAFE_INTEGER = 9007199254740991;\nfunction isLength(value) {\n  return typeof value == \"number\" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\nfunction isIterateeCall(value, index2, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index2;\n  if (type == \"number\" ? isArrayLike(object) && isIndex(index2, object.length) : type == \"string\" && index2 in object) {\n    return eq(object[index2], value);\n  }\n  return false;\n}\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index2 = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : void 0, guard = length > 2 ? sources[2] : void 0;\n    customizer = assigner.length > 3 && typeof customizer == \"function\" ? (length--, customizer) : void 0;\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? void 0 : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index2 < length) {\n      var source = sources[index2];\n      if (source) {\n        assigner(object, source, index2, customizer);\n      }\n    }\n    return object;\n  });\n}\nvar objectProto$4 = Object.prototype;\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor, proto = typeof Ctor == \"function\" && Ctor.prototype || objectProto$4;\n  return value === proto;\n}\nfunction baseTimes(n, iteratee) {\n  var index2 = -1, result = Array(n);\n  while (++index2 < n) {\n    result[index2] = iteratee(index2);\n  }\n  return result;\n}\nvar argsTag$1 = \"[object Arguments]\";\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag$1;\n}\nvar objectProto$3 = Object.prototype;\nvar hasOwnProperty$3 = objectProto$3.hasOwnProperty;\nvar propertyIsEnumerable = objectProto$3.propertyIsEnumerable;\nvar isArguments = baseIsArguments(function() {\n  return arguments;\n}()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty$3.call(value, \"callee\") && !propertyIsEnumerable.call(value, \"callee\");\n};\nvar isArguments$1 = isArguments;\nfunction stubFalse() {\n  return false;\n}\nvar freeExports$1 = typeof exports == \"object\" && exports && !exports.nodeType && exports;\nvar freeModule$1 = freeExports$1 && typeof module == \"object\" && module && !module.nodeType && module;\nvar moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;\nvar Buffer = moduleExports$1 ? root$1.Buffer : void 0;\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : void 0;\nvar isBuffer = nativeIsBuffer || stubFalse;\nvar isBuffer$1 = isBuffer;\nvar argsTag = \"[object Arguments]\", arrayTag = \"[object Array]\", boolTag = \"[object Boolean]\", dateTag = \"[object Date]\", errorTag = \"[object Error]\", funcTag = \"[object Function]\", mapTag = \"[object Map]\", numberTag = \"[object Number]\", objectTag = \"[object Object]\", regexpTag = \"[object RegExp]\", setTag = \"[object Set]\", stringTag = \"[object String]\", weakMapTag = \"[object WeakMap]\";\nvar arrayBufferTag = \"[object ArrayBuffer]\", dataViewTag = \"[object DataView]\", float32Tag = \"[object Float32Array]\", float64Tag = \"[object Float64Array]\", int8Tag = \"[object Int8Array]\", int16Tag = \"[object Int16Array]\", int32Tag = \"[object Int32Array]\", uint8Tag = \"[object Uint8Array]\", uint8ClampedTag = \"[object Uint8ClampedArray]\", uint16Tag = \"[object Uint16Array]\", uint32Tag = \"[object Uint32Array]\";\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\nvar freeExports = typeof exports == \"object\" && exports && !exports.nodeType && exports;\nvar freeModule = freeExports && typeof module == \"object\" && module && !module.nodeType && module;\nvar moduleExports = freeModule && freeModule.exports === freeExports;\nvar freeProcess = moduleExports && freeGlobal$1.process;\nvar nodeUtil = function() {\n  try {\n    var types = freeModule && freeModule.require && freeModule.require(\"util\").types;\n    if (types) {\n      return types;\n    }\n    return freeProcess && freeProcess.binding && freeProcess.binding(\"util\");\n  } catch (e) {\n  }\n}();\nvar nodeUtil$1 = nodeUtil;\nvar nodeIsTypedArray = nodeUtil$1 && nodeUtil$1.isTypedArray;\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\nvar isTypedArray$1 = isTypedArray;\nvar objectProto$2 = Object.prototype;\nvar hasOwnProperty$2 = objectProto$2.hasOwnProperty;\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray$1(value), isArg = !isArr && isArguments$1(value), isBuff = !isArr && !isArg && isBuffer$1(value), isType = !isArr && !isArg && !isBuff && isTypedArray$1(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$2.call(value, key)) && !(skipIndexes && (key == \"length\" || isBuff && (key == \"offset\" || key == \"parent\") || isType && (key == \"buffer\" || key == \"byteLength\" || key == \"byteOffset\") || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\nvar nativeKeys = overArg(Object.keys, Object);\nvar nativeKeys$1 = nativeKeys;\nvar objectProto$1 = Object.prototype;\nvar hasOwnProperty$1 = objectProto$1.hasOwnProperty;\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys$1(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$1.call(object, key) && key != \"constructor\") {\n      result.push(key);\n    }\n  }\n  return result;\n}\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\nvar assign$1 = assign;\nvar now = function() {\n  return root$1.Date.now();\n};\nvar now$1 = now;\nvar FUNC_ERROR_TEXT = \"Expected a function\";\nvar nativeMax = Math.max, nativeMin = Math.min;\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n  if (typeof func != \"function\") {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs, thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = setTimeout(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = now$1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(now$1());\n  }\n  function debounced() {\n    var time = now$1(), isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\nvar render = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\"div\", [_vm._t(\"default\", null, { \"images\": _vm.images, \"options\": _vm.options })], 2);\n};\nvar staticRenderFns = [];\nfunction normalizeComponent(scriptExports, render2, staticRenderFns2, functionalTemplate, injectStyles, scopeId, moduleIdentifier, shadowMode) {\n  var options = typeof scriptExports === \"function\" ? scriptExports.options : scriptExports;\n  if (render2) {\n    options.render = render2;\n    options.staticRenderFns = staticRenderFns2;\n    options._compiled = true;\n  }\n  if (functionalTemplate) {\n    options.functional = true;\n  }\n  if (scopeId) {\n    options._scopeId = \"data-v-\" + scopeId;\n  }\n  var hook;\n  if (moduleIdentifier) {\n    hook = function(context) {\n      context = context || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext;\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== \"undefined\") {\n        context = __VUE_SSR_CONTEXT__;\n      }\n      if (injectStyles) {\n        injectStyles.call(this, context);\n      }\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    };\n    options._ssrRegister = hook;\n  } else if (injectStyles) {\n    hook = shadowMode ? function() {\n      injectStyles.call(\n        this,\n        (options.functional ? this.parent : this).$root.$options.shadowRoot\n      );\n    } : injectStyles;\n  }\n  if (hook) {\n    if (options.functional) {\n      options._injectStyles = hook;\n      var originalRender = options.render;\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n  return {\n    exports: scriptExports,\n    options\n  };\n}\nconst __vue2_script = {\n  props: {\n    images: {\n      type: Array\n    },\n    rebuild: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {},\n    options: {\n      type: Object\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {},\n  watch: {\n    images() {\n      this.$nextTick(() => {\n        this.onChange();\n      });\n    },\n    trigger: {\n      handler() {\n        this.$nextTick(() => {\n          this.onChange();\n        });\n      },\n      deep: true\n    },\n    options: {\n      handler() {\n        this.$nextTick(() => {\n          this.rebuildViewer();\n        });\n      },\n      deep: true\n    }\n  },\n  mounted() {\n    this.createViewer();\n  },\n  unmounted() {\n    this.destroyViewer();\n  },\n  methods: {\n    onChange() {\n      if (this.rebuild) {\n        this.rebuildViewer();\n      } else {\n        this.updateViewer();\n      }\n    },\n    rebuildViewer() {\n      this.destroyViewer();\n      this.createViewer();\n    },\n    updateViewer() {\n      if (this.$viewer) {\n        this.$viewer.update();\n        this.$emit(\"inited\", this.$viewer);\n      } else {\n        this.createViewer();\n      }\n    },\n    destroyViewer() {\n      this.$viewer && this.$viewer.destroy();\n    },\n    createViewer() {\n      this.$viewer = new Viewer(this.$el, this.options);\n      this.$emit(\"inited\", this.$viewer);\n    }\n  }\n};\nconst __cssModules = {};\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  __vue2_script,\n  render,\n  staticRenderFns,\n  false,\n  __vue2_injectStyles,\n  null,\n  null,\n  null\n);\nfunction __vue2_injectStyles(context) {\n  for (let o in __cssModules) {\n    this[o] = __cssModules[o];\n  }\n}\nvar component = /* @__PURE__ */ function() {\n  return __component__.exports;\n}();\nconst directive = ({ name = \"viewer\", debug = false } = {}) => {\n  function createViewer(el, options, rebuild = false, observer = false) {\n    Vue.nextTick(() => {\n      if (observer && !imageDiff(el))\n        return;\n      if (rebuild || !el[`$${name}`]) {\n        destroyViewer(el);\n        el[`$${name}`] = new Viewer(el, options);\n        log(\"Viewer created\");\n      } else {\n        el[`$${name}`].update();\n        log(\"Viewer updated\");\n      }\n    });\n  }\n  function imageDiff(el) {\n    const imageContent = el.innerHTML.match(/<img([\\w\\W]+?)[\\\\/]?>/g);\n    const viewerImageText = imageContent ? imageContent.join(\"\") : void 0;\n    if (el.__viewerImageDiffCache === viewerImageText) {\n      log(\"Element change detected, but image(s) has not changed\");\n      return false;\n    } else {\n      log(\"Image change detected\");\n      el.__viewerImageDiffCache = viewerImageText;\n      return true;\n    }\n  }\n  function createObserver(el, options, debouncedCreateViewer, rebuild) {\n    destroyObserver(el);\n    const MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n    if (!MutationObserver) {\n      log(\"Observer not supported\");\n      return;\n    }\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        log(`Viewer mutation:${mutation.type}`);\n        debouncedCreateViewer(el, options, rebuild, true);\n      });\n    });\n    const config = { attributes: true, childList: true, characterData: true, subtree: true };\n    observer.observe(el, config);\n    el.__viewerMutationObserver = observer;\n    log(\"Observer created\");\n  }\n  function createWatcher(el, { expression }, vnode, debouncedCreateViewer) {\n    const simplePathRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['[^']*?']|\\[\"[^\"]*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*$/;\n    if (!expression || !simplePathRE.test(expression)) {\n      log(\"Only simple dot-delimited paths can create watcher\");\n      return;\n    }\n    el.__viewerUnwatch = vnode.context.$watch(expression, (newVal, oldVal) => {\n      log(\"Change detected by watcher: \", expression);\n      debouncedCreateViewer(el, newVal, true);\n    }, {\n      deep: true\n    });\n    log(\"Watcher created, expression: \", expression);\n  }\n  function destroyViewer(el) {\n    if (!el[`$${name}`]) {\n      return;\n    }\n    el[`$${name}`].destroy();\n    delete el[`$${name}`];\n    log(\"Viewer destroyed\");\n  }\n  function destroyObserver(el) {\n    if (!el.__viewerMutationObserver) {\n      return;\n    }\n    el.__viewerMutationObserver.disconnect();\n    delete el.__viewerMutationObserver;\n    log(\"Observer destroyed\");\n  }\n  function destroyWatcher(el) {\n    if (!el.__viewerUnwatch) {\n      return;\n    }\n    el.__viewerUnwatch();\n    delete el.__viewerUnwatch;\n    log(\"Watcher destroyed\");\n  }\n  function log() {\n    debug && console.log(...arguments);\n  }\n  const directive2 = {\n    bind(el, binding, vnode) {\n      log(\"Viewer bind\");\n      const debouncedCreateViewer = debounce(createViewer, 50);\n      debouncedCreateViewer(el, binding.value);\n      createWatcher(el, binding, vnode, debouncedCreateViewer);\n      if (!binding.modifiers.static) {\n        createObserver(el, binding.value, debouncedCreateViewer, binding.modifiers.rebuild);\n      }\n    },\n    unbind(el, binding) {\n      log(\"Viewer unbind\");\n      destroyObserver(el);\n      destroyWatcher(el);\n      destroyViewer(el);\n    }\n  };\n  return directive2;\n};\nconst api = ({ images = [], options = {} } = {}) => {\n  options = assign$1(options, {\n    inline: false\n  });\n  const ViewerToken = Vue.extend({\n    render(h) {\n      return h(\n        \"div\",\n        {\n          style: {\n            display: \"none\"\n          },\n          class: [\"__viewer-token\"]\n        },\n        images.map((attr) => {\n          return h(\n            \"img\",\n            {\n              attrs: typeof attr === \"string\" ? { src: attr } : attr\n            }\n          );\n        })\n      );\n    }\n  });\n  const token = new ViewerToken();\n  token.$mount();\n  document.body.appendChild(token.$el);\n  const $viewer = new Viewer(token.$el, options);\n  const $destroy = $viewer.destroy.bind($viewer);\n  $viewer.destroy = function() {\n    $destroy();\n    token.$destroy();\n    document.body.removeChild(token.$el);\n    return $viewer;\n  };\n  $viewer.show();\n  token.$el.addEventListener(\"hidden\", function() {\n    if (this.viewer === $viewer) {\n      $viewer.destroy();\n    }\n  });\n  return $viewer;\n};\nvar index = {\n  install(Vue2, { name = \"viewer\", debug = false, defaultOptions } = {}) {\n    Viewer.setDefaults(defaultOptions);\n    Vue2.component(name, assign$1(component, { name }));\n    Vue2.directive(name, directive({ name, debug }));\n    Vue2.prototype[`$${name}Api`] = api;\n  },\n  setDefaults(defaultOptions) {\n    Viewer.setDefaults(defaultOptions);\n  }\n};\nexport { api, component, index as default, directive };\n","/*!\n * Viewer.js v1.11.6\n * https://fengyuanchen.github.io/viewerjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-09-17T03:16:38.052Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Viewer = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n      var o = Object.getOwnPropertySymbols(e);\n      r && (o = o.filter(function (r) {\n        return Object.getOwnPropertyDescriptor(e, r).enumerable;\n      })), t.push.apply(t, o);\n    }\n    return t;\n  }\n  function _objectSpread2(e) {\n    for (var r = 1; r < arguments.length; r++) {\n      var t = null != arguments[r] ? arguments[r] : {};\n      r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n        _defineProperty(e, r, t[r]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n        Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n      });\n    }\n    return e;\n  }\n  function _typeof(o) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n      return typeof o;\n    } : function (o) {\n      return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, _typeof(o);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || \"default\");\n      if (typeof res !== \"object\") return res;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n  }\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n  }\n\n  var DEFAULTS = {\n    /**\n     * Enable a modal backdrop, specify `static` for a backdrop\n     * which doesn't close the modal on click.\n     * @type {boolean}\n     */\n    backdrop: true,\n    /**\n     * Show the button on the top-right of the viewer.\n     * @type {boolean}\n     */\n    button: true,\n    /**\n     * Show the navbar.\n     * @type {boolean | number}\n     */\n    navbar: true,\n    /**\n     * Specify the visibility and the content of the title.\n     * @type {boolean | number | Function | Array}\n     */\n    title: true,\n    /**\n     * Show the toolbar.\n     * @type {boolean | number | Object}\n     */\n    toolbar: true,\n    /**\n     * Custom class name(s) to add to the viewer's root element.\n     * @type {string}\n     */\n    className: '',\n    /**\n     * Define where to put the viewer in modal mode.\n     * @type {string | Element}\n     */\n    container: 'body',\n    /**\n     * Filter the images for viewing. Return true if the image is viewable.\n     * @type {Function}\n     */\n    filter: null,\n    /**\n     * Enable to request fullscreen when play.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/FullscreenOptions}\n     * @type {boolean|FullscreenOptions}\n     */\n    fullscreen: true,\n    /**\n     * Define the extra attributes to inherit from the original image.\n     * @type {Array}\n     */\n    inheritedAttributes: ['crossOrigin', 'decoding', 'isMap', 'loading', 'referrerPolicy', 'sizes', 'srcset', 'useMap'],\n    /**\n     * Define the initial coverage of the viewing image.\n     * @type {number}\n     */\n    initialCoverage: 0.9,\n    /**\n     * Define the initial index of the image for viewing.\n     * @type {number}\n     */\n    initialViewIndex: 0,\n    /**\n     * Enable inline mode.\n     * @type {boolean}\n     */\n    inline: false,\n    /**\n     * The amount of time to delay between automatically cycling an image when playing.\n     * @type {number}\n     */\n    interval: 5000,\n    /**\n     * Enable keyboard support.\n     * @type {boolean}\n     */\n    keyboard: true,\n    /**\n     * Focus the viewer when initialized.\n     * @type {boolean}\n     */\n    focus: true,\n    /**\n     * Indicate if show a loading spinner when load image or not.\n     * @type {boolean}\n     */\n    loading: true,\n    /**\n     * Indicate if enable loop viewing or not.\n     * @type {boolean}\n     */\n    loop: true,\n    /**\n     * Min width of the viewer in inline mode.\n     * @type {number}\n     */\n    minWidth: 200,\n    /**\n     * Min height of the viewer in inline mode.\n     * @type {number}\n     */\n    minHeight: 100,\n    /**\n     * Enable to move the image.\n     * @type {boolean}\n     */\n    movable: true,\n    /**\n     * Enable to rotate the image.\n     * @type {boolean}\n     */\n    rotatable: true,\n    /**\n     * Enable to scale the image.\n     * @type {boolean}\n     */\n    scalable: true,\n    /**\n     * Enable to zoom the image.\n     * @type {boolean}\n     */\n    zoomable: true,\n    /**\n     * Enable to zoom the current image by dragging on the touch screen.\n     * @type {boolean}\n     */\n    zoomOnTouch: true,\n    /**\n     * Enable to zoom the image by wheeling mouse.\n     * @type {boolean}\n     */\n    zoomOnWheel: true,\n    /**\n     * Enable to slide to the next or previous image by swiping on the touch screen.\n     * @type {boolean}\n     */\n    slideOnTouch: true,\n    /**\n     * Indicate if toggle the image size between its natural size\n     * and initial size when double click on the image or not.\n     * @type {boolean}\n     */\n    toggleOnDblclick: true,\n    /**\n     * Show the tooltip with image ratio (percentage) when zoom in or zoom out.\n     * @type {boolean}\n     */\n    tooltip: true,\n    /**\n     * Enable CSS3 Transition for some special elements.\n     * @type {boolean}\n     */\n    transition: true,\n    /**\n     * Define the CSS `z-index` value of viewer in modal mode.\n     * @type {number}\n     */\n    zIndex: 2015,\n    /**\n     * Define the CSS `z-index` value of viewer in inline mode.\n     * @type {number}\n     */\n    zIndexInline: 0,\n    /**\n     * Define the ratio when zoom the image by wheeling mouse.\n     * @type {number}\n     */\n    zoomRatio: 0.1,\n    /**\n     * Define the min ratio of the image when zoom out.\n     * @type {number}\n     */\n    minZoomRatio: 0.01,\n    /**\n     * Define the max ratio of the image when zoom in.\n     * @type {number}\n     */\n    maxZoomRatio: 100,\n    /**\n     * Define where to get the original image URL for viewing.\n     * @type {string | Function}\n     */\n    url: 'src',\n    /**\n     * Event shortcuts.\n     * @type {Function}\n     */\n    ready: null,\n    show: null,\n    shown: null,\n    hide: null,\n    hidden: null,\n    view: null,\n    viewed: null,\n    move: null,\n    moved: null,\n    rotate: null,\n    rotated: null,\n    scale: null,\n    scaled: null,\n    zoom: null,\n    zoomed: null,\n    play: null,\n    stop: null\n  };\n\n  var TEMPLATE = '<div class=\"viewer-container\" tabindex=\"-1\" touch-action=\"none\">' + '<div class=\"viewer-canvas\"></div>' + '<div class=\"viewer-footer\">' + '<div class=\"viewer-title\"></div>' + '<div class=\"viewer-toolbar\"></div>' + '<div class=\"viewer-navbar\">' + '<ul class=\"viewer-list\" role=\"navigation\"></ul>' + '</div>' + '</div>' + '<div class=\"viewer-tooltip\" role=\"alert\" aria-hidden=\"true\"></div>' + '<div class=\"viewer-button\" data-viewer-action=\"mix\" role=\"button\"></div>' + '<div class=\"viewer-player\"></div>' + '</div>';\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'viewer';\n\n  // Actions\n  var ACTION_MOVE = 'move';\n  var ACTION_SWITCH = 'switch';\n  var ACTION_ZOOM = 'zoom';\n\n  // Classes\n  var CLASS_ACTIVE = \"\".concat(NAMESPACE, \"-active\");\n  var CLASS_CLOSE = \"\".concat(NAMESPACE, \"-close\");\n  var CLASS_FADE = \"\".concat(NAMESPACE, \"-fade\");\n  var CLASS_FIXED = \"\".concat(NAMESPACE, \"-fixed\");\n  var CLASS_FULLSCREEN = \"\".concat(NAMESPACE, \"-fullscreen\");\n  var CLASS_FULLSCREEN_EXIT = \"\".concat(NAMESPACE, \"-fullscreen-exit\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_HIDE_MD_DOWN = \"\".concat(NAMESPACE, \"-hide-md-down\");\n  var CLASS_HIDE_SM_DOWN = \"\".concat(NAMESPACE, \"-hide-sm-down\");\n  var CLASS_HIDE_XS_DOWN = \"\".concat(NAMESPACE, \"-hide-xs-down\");\n  var CLASS_IN = \"\".concat(NAMESPACE, \"-in\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_LOADING = \"\".concat(NAMESPACE, \"-loading\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n  var CLASS_OPEN = \"\".concat(NAMESPACE, \"-open\");\n  var CLASS_SHOW = \"\".concat(NAMESPACE, \"-show\");\n  var CLASS_TRANSITION = \"\".concat(NAMESPACE, \"-transition\");\n\n  // Native events\n  var EVENT_CLICK = 'click';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_DRAG_START = 'dragstart';\n  var EVENT_FOCUSIN = 'focusin';\n  var EVENT_KEY_DOWN = 'keydown';\n  var EVENT_LOAD = 'load';\n  var EVENT_ERROR = 'error';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_RESIZE = 'resize';\n  var EVENT_TRANSITION_END = 'transitionend';\n  var EVENT_WHEEL = 'wheel';\n\n  // Custom events\n  var EVENT_READY = 'ready';\n  var EVENT_SHOW = 'show';\n  var EVENT_SHOWN = 'shown';\n  var EVENT_HIDE = 'hide';\n  var EVENT_HIDDEN = 'hidden';\n  var EVENT_VIEW = 'view';\n  var EVENT_VIEWED = 'viewed';\n  var EVENT_MOVE = 'move';\n  var EVENT_MOVED = 'moved';\n  var EVENT_ROTATE = 'rotate';\n  var EVENT_ROTATED = 'rotated';\n  var EVENT_SCALE = 'scale';\n  var EVENT_SCALED = 'scaled';\n  var EVENT_ZOOM = 'zoom';\n  var EVENT_ZOOMED = 'zoomed';\n  var EVENT_PLAY = 'play';\n  var EVENT_STOP = 'stop';\n\n  // Data keys\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n\n  // RegExps\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  // Misc\n  var BUTTONS = ['zoom-in', 'zoom-out', 'one-to-one', 'reset', 'prev', 'play', 'next', 'rotate-left', 'rotate-right', 'flip-horizontal', 'flip-vertical'];\n\n  /**\n   * Check if the given value is a string.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n   */\n  function isString(value) {\n    return typeof value === 'string';\n  }\n\n  /**\n   * Check if the given value is not a number.\n   */\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        var length = data.length;\n        var i;\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n    return data;\n  }\n\n  /**\n   * Extend the given object.\n   * @param {*} obj - The object to be extended.\n   * @param {*} args - The rest objects which will be merged to the first object.\n   * @returns {Object} The extended object.\n   */\n  var assign = Object.assign || function assign(obj) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (isObject(obj) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            obj[key] = arg[key];\n          });\n        }\n      });\n    }\n    return obj;\n  };\n  var REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value += 'px';\n      }\n      style[property] = value;\n    });\n  }\n\n  /**\n   * Escape a string for using in HTML.\n   * @param {String} value - The string to escape.\n   * @returns {String} Returns the escaped string.\n   */\n  function escapeHTMLEntities(value) {\n    return isString(value) ? value.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;') : value;\n  }\n\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n  function hasClass(element, value) {\n    if (!element || !value) {\n      return false;\n    }\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n  function addClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n    var className = element.className.trim();\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n  function removeClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    }\n\n    // IE10-11 doesn't support the second parameter of `classList.toggle`\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n  function hyphenate(value) {\n    return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n  }\n\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n    return element.getAttribute(\"data-\".concat(hyphenate(name)));\n  }\n\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(hyphenate(name)), data);\n    }\n  }\n  var onceSupported = function () {\n    var supported = false;\n    if (IS_BROWSER) {\n      var once = false;\n      var listener = function listener() {};\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n    return supported;\n  }();\n\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n      element.removeEventListener(event, handler, options);\n    });\n  }\n\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n          listeners = _element$listeners === void 0 ? {} : _element$listeners;\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          listener.apply(element, args);\n        };\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n      element.addEventListener(event, _handler, options);\n    });\n  }\n\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @param {Object} options - The additional event options.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n  function dispatchEvent(element, type, data, options) {\n    var event;\n\n    // Event and CustomEvent on IE9-11 are global objects, not constructors\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, _objectSpread2({\n        bubbles: true,\n        cancelable: true,\n        detail: data\n      }, options));\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n    return element.dispatchEvent(event);\n  }\n\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n    var values = [];\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    }\n\n    // Rotate should come first before scale to match orientation transform\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n\n  /**\n   * Get an image name from an image url.\n   * @param {string} url - The target url.\n   * @example\n   * // picture.jpg\n   * getImageNameFromURL('https://domain.com/path/to/picture.jpg?size=1280×960')\n   * @returns {string} A string contains the image name.\n   */\n  function getImageNameFromURL(url) {\n    return isString(url) ? decodeURIComponent(url.replace(/^.*\\//, '').replace(/[?&#].*$/, '')) : '';\n  }\n  var IS_SAFARI = WINDOW.navigator && /Version\\/\\d+(\\.\\d+)+?\\s+Safari/i.test(WINDOW.navigator.userAgent);\n\n  /**\n   * Get an image's natural sizes.\n   * @param {string} image - The target image.\n   * @param {Object} options - The viewer options.\n   * @param {Function} callback - The callback function.\n   * @returns {HTMLImageElement} The new image.\n   */\n  function getImageNaturalSizes(image, options, callback) {\n    var newImage = document.createElement('img');\n\n    // Modern browsers (except Safari)\n    if (image.naturalWidth && !IS_SAFARI) {\n      callback(image.naturalWidth, image.naturalHeight);\n      return newImage;\n    }\n    var body = document.body || document.documentElement;\n    newImage.onload = function () {\n      callback(newImage.width, newImage.height);\n      if (!IS_SAFARI) {\n        body.removeChild(newImage);\n      }\n    };\n    forEach(options.inheritedAttributes, function (name) {\n      var value = image.getAttribute(name);\n      if (value !== null) {\n        newImage.setAttribute(name, value);\n      }\n    });\n    newImage.src = image.src;\n\n    // iOS Safari will convert the image automatically\n    // with its orientation once append it into DOM\n    if (!IS_SAFARI) {\n      newImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n      body.appendChild(newImage);\n    }\n    return newImage;\n  }\n\n  /**\n   * Get the related class name of a responsive type number.\n   * @param {string} type - The responsive type.\n   * @returns {string} The related class name.\n   */\n  function getResponsiveClass(type) {\n    switch (type) {\n      case 2:\n        return CLASS_HIDE_XS_DOWN;\n      case 3:\n        return CLASS_HIDE_SM_DOWN;\n      case 4:\n        return CLASS_HIDE_MD_DOWN;\n      default:\n        return '';\n    }\n  }\n\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n    var ratios = [];\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        ratios.push(ratio);\n      });\n    });\n    ratios.sort(function (a, b) {\n      return Math.abs(a) < Math.abs(b);\n    });\n    return ratios[0];\n  }\n\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      timeStamp: Date.now(),\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n        startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initViewer();\n      this.initList();\n      this.renderViewer();\n    },\n    initBody: function initBody() {\n      var ownerDocument = this.element.ownerDocument;\n      var body = ownerDocument.body || ownerDocument.documentElement;\n      this.body = body;\n      this.scrollbarWidth = window.innerWidth - ownerDocument.documentElement.clientWidth;\n      this.initialBodyPaddingRight = body.style.paddingRight;\n      this.initialBodyComputedPaddingRight = window.getComputedStyle(body).paddingRight;\n    },\n    initContainer: function initContainer() {\n      this.containerData = {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    },\n    initViewer: function initViewer() {\n      var options = this.options,\n        parent = this.parent;\n      var viewerData;\n      if (options.inline) {\n        viewerData = {\n          width: Math.max(parent.offsetWidth, options.minWidth),\n          height: Math.max(parent.offsetHeight, options.minHeight)\n        };\n        this.parentData = viewerData;\n      }\n      if (this.fulled || !viewerData) {\n        viewerData = this.containerData;\n      }\n      this.viewerData = assign({}, viewerData);\n    },\n    renderViewer: function renderViewer() {\n      if (this.options.inline && !this.fulled) {\n        setStyle(this.viewer, this.viewerData);\n      }\n    },\n    initList: function initList() {\n      var _this = this;\n      var element = this.element,\n        options = this.options,\n        list = this.list;\n      var items = [];\n\n      // initList may be called in this.update, so should keep idempotent\n      list.innerHTML = '';\n      forEach(this.images, function (image, index) {\n        var src = image.src;\n        var alt = image.alt || getImageNameFromURL(src);\n        var url = _this.getImageURL(image);\n        if (src || url) {\n          var item = document.createElement('li');\n          var img = document.createElement('img');\n          forEach(options.inheritedAttributes, function (name) {\n            var value = image.getAttribute(name);\n            if (value !== null) {\n              img.setAttribute(name, value);\n            }\n          });\n          if (options.navbar) {\n            img.src = src || url;\n          }\n          img.alt = alt;\n          img.setAttribute('data-original-url', url || src);\n          item.setAttribute('data-index', index);\n          item.setAttribute('data-viewer-action', 'view');\n          item.setAttribute('role', 'button');\n          if (options.keyboard) {\n            item.setAttribute('tabindex', 0);\n          }\n          item.appendChild(img);\n          list.appendChild(item);\n          items.push(item);\n        }\n      });\n      this.items = items;\n      forEach(items, function (item) {\n        var image = item.firstElementChild;\n        var onLoad;\n        var onError;\n        setData(image, 'filled', true);\n        if (options.loading) {\n          addClass(item, CLASS_LOADING);\n        }\n        addListener(image, EVENT_LOAD, onLoad = function onLoad(event) {\n          removeListener(image, EVENT_ERROR, onError);\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n          _this.loadImage(event);\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n      });\n      if (options.transition) {\n        addListener(element, EVENT_VIEWED, function () {\n          addClass(list, CLASS_TRANSITION);\n        }, {\n          once: true\n        });\n      }\n    },\n    renderList: function renderList() {\n      var index = this.index;\n      var item = this.items[index];\n      if (!item) {\n        return;\n      }\n      var next = item.nextElementSibling;\n      var gutter = parseInt(window.getComputedStyle(next || item).marginLeft, 10);\n      var offsetWidth = item.offsetWidth;\n      var outerWidth = offsetWidth + gutter;\n\n      // Place the active item in the center of the screen\n      setStyle(this.list, assign({\n        width: outerWidth * this.length - gutter\n      }, getTransforms({\n        translateX: (this.viewerData.width - offsetWidth) / 2 - outerWidth * index\n      })));\n    },\n    resetList: function resetList() {\n      var list = this.list;\n      list.innerHTML = '';\n      removeClass(list, CLASS_TRANSITION);\n      setStyle(list, getTransforms({\n        translateX: 0\n      }));\n    },\n    initImage: function initImage(done) {\n      var _this2 = this;\n      var options = this.options,\n        image = this.image,\n        viewerData = this.viewerData;\n      var footerHeight = this.footer.offsetHeight;\n      var viewerWidth = viewerData.width;\n      var viewerHeight = Math.max(viewerData.height - footerHeight, footerHeight);\n      var oldImageData = this.imageData || {};\n      var sizingImage;\n      this.imageInitializing = {\n        abort: function abort() {\n          sizingImage.onload = null;\n        }\n      };\n      sizingImage = getImageNaturalSizes(image, options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var initialCoverage = Math.max(0, Math.min(1, options.initialCoverage));\n        var width = viewerWidth;\n        var height = viewerHeight;\n        _this2.imageInitializing = false;\n        if (viewerHeight * aspectRatio > viewerWidth) {\n          height = viewerWidth / aspectRatio;\n        } else {\n          width = viewerHeight * aspectRatio;\n        }\n        initialCoverage = isNumber(initialCoverage) ? initialCoverage : 0.9;\n        width = Math.min(width * initialCoverage, naturalWidth);\n        height = Math.min(height * initialCoverage, naturalHeight);\n        var left = (viewerWidth - width) / 2;\n        var top = (viewerHeight - height) / 2;\n        var imageData = {\n          left: left,\n          top: top,\n          x: left,\n          y: top,\n          width: width,\n          height: height,\n          oldRatio: 1,\n          ratio: width / naturalWidth,\n          aspectRatio: aspectRatio,\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight\n        };\n        var initialImageData = assign({}, imageData);\n        if (options.rotatable) {\n          imageData.rotate = oldImageData.rotate || 0;\n          initialImageData.rotate = 0;\n        }\n        if (options.scalable) {\n          imageData.scaleX = oldImageData.scaleX || 1;\n          imageData.scaleY = oldImageData.scaleY || 1;\n          initialImageData.scaleX = 1;\n          initialImageData.scaleY = 1;\n        }\n        _this2.imageData = imageData;\n        _this2.initialImageData = initialImageData;\n        if (done) {\n          done();\n        }\n      });\n    },\n    renderImage: function renderImage(done) {\n      var _this3 = this;\n      var image = this.image,\n        imageData = this.imageData;\n      setStyle(image, assign({\n        width: imageData.width,\n        height: imageData.height,\n        // XXX: Not to use translateX/Y to avoid image shaking when zooming\n        marginLeft: imageData.x,\n        marginTop: imageData.y\n      }, getTransforms(imageData)));\n      if (done) {\n        if ((this.viewing || this.moving || this.rotating || this.scaling || this.zooming) && this.options.transition && hasClass(image, CLASS_TRANSITION)) {\n          var onTransitionEnd = function onTransitionEnd() {\n            _this3.imageRendering = false;\n            done();\n          };\n          this.imageRendering = {\n            abort: function abort() {\n              removeListener(image, EVENT_TRANSITION_END, onTransitionEnd);\n            }\n          };\n          addListener(image, EVENT_TRANSITION_END, onTransitionEnd, {\n            once: true\n          });\n        } else {\n          done();\n        }\n      }\n    },\n    resetImage: function resetImage() {\n      var image = this.image;\n      if (image) {\n        if (this.viewing) {\n          this.viewing.abort();\n        }\n        image.parentNode.removeChild(image);\n        this.image = null;\n        this.title.innerHTML = '';\n      }\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var options = this.options,\n        viewer = this.viewer,\n        canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      addListener(viewer, EVENT_CLICK, this.onClick = this.click.bind(this));\n      addListener(viewer, EVENT_DRAG_START, this.onDragStart = this.dragstart.bind(this));\n      addListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown = this.pointerdown.bind(this));\n      addListener(document, EVENT_POINTER_MOVE, this.onPointerMove = this.pointermove.bind(this));\n      addListener(document, EVENT_POINTER_UP, this.onPointerUp = this.pointerup.bind(this));\n      addListener(document, EVENT_KEY_DOWN, this.onKeyDown = this.keydown.bind(this));\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(viewer, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleOnDblclick) {\n        addListener(canvas, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var options = this.options,\n        viewer = this.viewer,\n        canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      removeListener(viewer, EVENT_CLICK, this.onClick);\n      removeListener(viewer, EVENT_DRAG_START, this.onDragStart);\n      removeListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown);\n      removeListener(document, EVENT_POINTER_MOVE, this.onPointerMove);\n      removeListener(document, EVENT_POINTER_UP, this.onPointerUp);\n      removeListener(document, EVENT_KEY_DOWN, this.onKeyDown);\n      removeListener(window, EVENT_RESIZE, this.onResize);\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(viewer, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleOnDblclick) {\n        removeListener(canvas, EVENT_DBLCLICK, this.onDblclick);\n      }\n    }\n  };\n\n  var handlers = {\n    click: function click(event) {\n      var options = this.options,\n        imageData = this.imageData;\n      var target = event.target;\n      var action = getData(target, DATA_ACTION);\n      if (!action && target.localName === 'img' && target.parentElement.localName === 'li') {\n        target = target.parentElement;\n        action = getData(target, DATA_ACTION);\n      }\n\n      // Cancel the emulated click when the native click event was triggered.\n      if (IS_TOUCH_DEVICE && event.isTrusted && target === this.canvas) {\n        clearTimeout(this.clickCanvasTimeout);\n      }\n      switch (action) {\n        case 'mix':\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            } else {\n              this.full();\n            }\n          } else {\n            this.hide();\n          }\n          break;\n        case 'hide':\n          if (!this.pointerMoved) {\n            this.hide();\n          }\n          break;\n        case 'view':\n          this.view(getData(target, 'index'));\n          break;\n        case 'zoom-in':\n          this.zoom(0.1, true);\n          break;\n        case 'zoom-out':\n          this.zoom(-0.1, true);\n          break;\n        case 'one-to-one':\n          this.toggle();\n          break;\n        case 'reset':\n          this.reset();\n          break;\n        case 'prev':\n          this.prev(options.loop);\n          break;\n        case 'play':\n          this.play(options.fullscreen);\n          break;\n        case 'next':\n          this.next(options.loop);\n          break;\n        case 'rotate-left':\n          this.rotate(-90);\n          break;\n        case 'rotate-right':\n          this.rotate(90);\n          break;\n        case 'flip-horizontal':\n          this.scaleX(-imageData.scaleX || -1);\n          break;\n        case 'flip-vertical':\n          this.scaleY(-imageData.scaleY || -1);\n          break;\n        default:\n          if (this.played) {\n            this.stop();\n          }\n      }\n    },\n    dblclick: function dblclick(event) {\n      event.preventDefault();\n      if (this.viewed && event.target === this.image) {\n        // Cancel the emulated double click when the native dblclick event was triggered.\n        if (IS_TOUCH_DEVICE && event.isTrusted) {\n          clearTimeout(this.doubleClickImageTimeout);\n        }\n\n        // XXX: No pageX/Y properties in custom event, fallback to the original event.\n        this.toggle(event.isTrusted ? event : event.detail && event.detail.originalEvent);\n      }\n    },\n    load: function load() {\n      var _this = this;\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = false;\n      }\n      var element = this.element,\n        options = this.options,\n        image = this.image,\n        index = this.index,\n        viewerData = this.viewerData;\n      removeClass(image, CLASS_INVISIBLE);\n      if (options.loading) {\n        removeClass(this.canvas, CLASS_LOADING);\n      }\n      image.style.cssText = 'height:0;' + \"margin-left:\".concat(viewerData.width / 2, \"px;\") + \"margin-top:\".concat(viewerData.height / 2, \"px;\") + 'max-width:none!important;' + 'position:relative;' + 'width:0;';\n      this.initImage(function () {\n        toggleClass(image, CLASS_MOVE, options.movable);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n        _this.renderImage(function () {\n          _this.viewed = true;\n          _this.viewing = false;\n          if (isFunction(options.viewed)) {\n            addListener(element, EVENT_VIEWED, options.viewed, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_VIEWED, {\n            originalImage: _this.images[index],\n            index: index,\n            image: image\n          }, {\n            cancelable: false\n          });\n        });\n      });\n    },\n    loadImage: function loadImage(event) {\n      var image = event.target;\n      var parent = image.parentNode;\n      var parentWidth = parent.offsetWidth || 30;\n      var parentHeight = parent.offsetHeight || 50;\n      var filled = !!getData(image, 'filled');\n      getImageNaturalSizes(image, this.options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var width = parentWidth;\n        var height = parentHeight;\n        if (parentHeight * aspectRatio > parentWidth) {\n          if (filled) {\n            width = parentHeight * aspectRatio;\n          } else {\n            height = parentWidth / aspectRatio;\n          }\n        } else if (filled) {\n          height = parentWidth / aspectRatio;\n        } else {\n          width = parentHeight * aspectRatio;\n        }\n        setStyle(image, assign({\n          width: width,\n          height: height\n        }, getTransforms({\n          translateX: (parentWidth - width) / 2,\n          translateY: (parentHeight - height) / 2\n        })));\n      });\n    },\n    keydown: function keydown(event) {\n      var options = this.options;\n      if (!options.keyboard) {\n        return;\n      }\n      var keyCode = event.keyCode || event.which || event.charCode;\n      switch (keyCode) {\n        // Enter\n        case 13:\n          if (this.viewer.contains(event.target)) {\n            this.click(event);\n          }\n          break;\n      }\n      if (!this.fulled) {\n        return;\n      }\n      switch (keyCode) {\n        // Escape\n        case 27:\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            }\n          } else {\n            this.hide();\n          }\n          break;\n\n        // Space\n        case 32:\n          if (this.played) {\n            this.stop();\n          }\n          break;\n\n        // ArrowLeft\n        case 37:\n          if (this.played && this.playing) {\n            this.playing.prev();\n          } else {\n            this.prev(options.loop);\n          }\n          break;\n\n        // ArrowUp\n        case 38:\n          // Prevent scroll on Firefox\n          event.preventDefault();\n\n          // Zoom in\n          this.zoom(options.zoomRatio, true);\n          break;\n\n        // ArrowRight\n        case 39:\n          if (this.played && this.playing) {\n            this.playing.next();\n          } else {\n            this.next(options.loop);\n          }\n          break;\n\n        // ArrowDown\n        case 40:\n          // Prevent scroll on Firefox\n          event.preventDefault();\n\n          // Zoom out\n          this.zoom(-options.zoomRatio, true);\n          break;\n\n        // Ctrl + 0\n        case 48:\n        // Fall through\n\n        // Ctrl + 1\n        // eslint-disable-next-line no-fallthrough\n        case 49:\n          if (event.ctrlKey) {\n            event.preventDefault();\n            this.toggle();\n          }\n          break;\n      }\n    },\n    dragstart: function dragstart(event) {\n      if (event.target.localName === 'img') {\n        event.preventDefault();\n      }\n    },\n    pointerdown: function pointerdown(event) {\n      var options = this.options,\n        pointers = this.pointers;\n      var buttons = event.buttons,\n        button = event.button;\n      this.pointerMoved = false;\n      if (!this.viewed || this.showing || this.viewing || this.hiding\n\n      // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\n      // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\n\n      // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n\n      // Prevent default behaviours as page zooming in touch devices.\n      event.preventDefault();\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n      var action = options.movable ? ACTION_MOVE : false;\n      if (options.zoomOnTouch && options.zoomable && Object.keys(pointers).length > 1) {\n        action = ACTION_ZOOM;\n      } else if (options.slideOnTouch && (event.pointerType === 'touch' || event.type === 'touchstart') && this.isSwitchable()) {\n        action = ACTION_SWITCH;\n      }\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        removeClass(this.image, CLASS_TRANSITION);\n      }\n      this.action = action;\n    },\n    pointermove: function pointermove(event) {\n      var pointers = this.pointers,\n        action = this.action;\n      if (!this.viewed || !action) {\n        return;\n      }\n      event.preventDefault();\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n      this.change(event);\n    },\n    pointerup: function pointerup(event) {\n      var _this2 = this;\n      var options = this.options,\n        action = this.action,\n        pointers = this.pointers;\n      var pointer;\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointer = pointers[touch.identifier];\n          delete pointers[touch.identifier];\n        });\n      } else {\n        pointer = pointers[event.pointerId || 0];\n        delete pointers[event.pointerId || 0];\n      }\n      if (!action) {\n        return;\n      }\n      event.preventDefault();\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        addClass(this.image, CLASS_TRANSITION);\n      }\n      this.action = false;\n\n      // Emulate click and double click in touch devices to support backdrop and image zooming (#210).\n      if (IS_TOUCH_DEVICE && action !== ACTION_ZOOM && pointer && Date.now() - pointer.timeStamp < 500) {\n        clearTimeout(this.clickCanvasTimeout);\n        clearTimeout(this.doubleClickImageTimeout);\n        if (options.toggleOnDblclick && this.viewed && event.target === this.image) {\n          if (this.imageClicked) {\n            this.imageClicked = false;\n\n            // This timeout will be cleared later when a native dblclick event is triggering\n            this.doubleClickImageTimeout = setTimeout(function () {\n              dispatchEvent(_this2.image, EVENT_DBLCLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          } else {\n            this.imageClicked = true;\n\n            // The default timing of a double click in Windows is 500 ms\n            this.doubleClickImageTimeout = setTimeout(function () {\n              _this2.imageClicked = false;\n            }, 500);\n          }\n        } else {\n          this.imageClicked = false;\n          if (options.backdrop && options.backdrop !== 'static' && event.target === this.canvas) {\n            // This timeout will be cleared later when a native click event is triggering\n            this.clickCanvasTimeout = setTimeout(function () {\n              dispatchEvent(_this2.canvas, EVENT_CLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          }\n        }\n      }\n    },\n    resize: function resize() {\n      var _this3 = this;\n      if (!this.isShown || this.hiding) {\n        return;\n      }\n      if (this.fulled) {\n        this.close();\n        this.initBody();\n        this.open();\n      }\n      this.initContainer();\n      this.initViewer();\n      this.renderViewer();\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this3.renderImage();\n        });\n      }\n      if (this.played) {\n        if (this.options.fullscreen && this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n          this.stop();\n          return;\n        }\n        forEach(this.player.getElementsByTagName('img'), function (image) {\n          addListener(image, EVENT_LOAD, _this3.loadImage.bind(_this3), {\n            once: true\n          });\n          dispatchEvent(image, EVENT_LOAD);\n        });\n      }\n    },\n    wheel: function wheel(event) {\n      var _this4 = this;\n      if (!this.viewed) {\n        return;\n      }\n      event.preventDefault();\n\n      // Limit wheel speed to prevent zoom too fast\n      if (this.wheeling) {\n        return;\n      }\n      this.wheeling = true;\n      setTimeout(function () {\n        _this4.wheeling = false;\n      }, 50);\n      var ratio = Number(this.options.zoomRatio) || 0.1;\n      var delta = 1;\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n      this.zoom(-delta * ratio, true, null, event);\n    }\n  };\n\n  var methods = {\n    /** Show the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if show the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    show: function show() {\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n        options = this.options;\n      if (options.inline || this.showing || this.isShown || this.showing) {\n        return this;\n      }\n      if (!this.ready) {\n        this.build();\n        if (this.ready) {\n          this.show(immediate);\n        }\n        return this;\n      }\n      if (isFunction(options.show)) {\n        addListener(element, EVENT_SHOW, options.show, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_SHOW) === false || !this.ready) {\n        return this;\n      }\n      if (this.hiding) {\n        this.transitioning.abort();\n      }\n      this.showing = true;\n      this.open();\n      var viewer = this.viewer;\n      removeClass(viewer, CLASS_HIDE);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('aria-hidden');\n      if (options.transition && !immediate) {\n        var shown = this.shown.bind(this);\n        this.transitioning = {\n          abort: function abort() {\n            removeListener(viewer, EVENT_TRANSITION_END, shown);\n            removeClass(viewer, CLASS_IN);\n          }\n        };\n        addClass(viewer, CLASS_TRANSITION);\n\n        // Force reflow to enable CSS3 transition\n        viewer.initialOffsetWidth = viewer.offsetWidth;\n        addListener(viewer, EVENT_TRANSITION_END, shown, {\n          once: true\n        });\n        addClass(viewer, CLASS_IN);\n      } else {\n        addClass(viewer, CLASS_IN);\n        this.shown();\n      }\n      return this;\n    },\n    /**\n     * Hide the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if hide the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    hide: function hide() {\n      var _this = this;\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n        options = this.options;\n      if (options.inline || this.hiding || !(this.isShown || this.showing)) {\n        return this;\n      }\n      if (isFunction(options.hide)) {\n        addListener(element, EVENT_HIDE, options.hide, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_HIDE) === false) {\n        return this;\n      }\n      if (this.showing) {\n        this.transitioning.abort();\n      }\n      this.hiding = true;\n      if (this.played) {\n        this.stop();\n      } else if (this.viewing) {\n        this.viewing.abort();\n      }\n      var viewer = this.viewer,\n        image = this.image;\n      var hideImmediately = function hideImmediately() {\n        removeClass(viewer, CLASS_IN);\n        _this.hidden();\n      };\n      if (options.transition && !immediate) {\n        var onViewerTransitionEnd = function onViewerTransitionEnd(event) {\n          // Ignore all propagating `transitionend` events (#275).\n          if (event && event.target === viewer) {\n            removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            _this.hidden();\n          }\n        };\n        var onImageTransitionEnd = function onImageTransitionEnd() {\n          // In case of show the viewer by `viewer.show(true)` previously (#407).\n          if (hasClass(viewer, CLASS_TRANSITION)) {\n            addListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            removeClass(viewer, CLASS_IN);\n          } else {\n            hideImmediately();\n          }\n        };\n        this.transitioning = {\n          abort: function abort() {\n            if (_this.viewed && hasClass(image, CLASS_TRANSITION)) {\n              removeListener(image, EVENT_TRANSITION_END, onImageTransitionEnd);\n            } else if (hasClass(viewer, CLASS_TRANSITION)) {\n              removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            }\n          }\n        };\n\n        // In case of hiding the viewer when holding on the image (#255),\n        // note that the `CLASS_TRANSITION` class will be removed on pointer down.\n        if (this.viewed && hasClass(image, CLASS_TRANSITION)) {\n          addListener(image, EVENT_TRANSITION_END, onImageTransitionEnd, {\n            once: true\n          });\n          this.zoomTo(0, false, null, null, true);\n        } else {\n          onImageTransitionEnd();\n        }\n      } else {\n        hideImmediately();\n      }\n      return this;\n    },\n    /**\n     * View one of the images with image's index\n     * @param {number} index - The index of the image to view.\n     * @returns {Viewer} this\n     */\n    view: function view() {\n      var _this2 = this;\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.initialViewIndex;\n      index = Number(index) || 0;\n      if (this.hiding || this.played || index < 0 || index >= this.length || this.viewed && index === this.index) {\n        return this;\n      }\n      if (!this.isShown) {\n        this.index = index;\n        return this.show();\n      }\n      if (this.viewing) {\n        this.viewing.abort();\n      }\n      var element = this.element,\n        options = this.options,\n        title = this.title,\n        canvas = this.canvas;\n      var item = this.items[index];\n      var img = item.querySelector('img');\n      var url = getData(img, 'originalUrl');\n      var alt = img.getAttribute('alt');\n      var image = document.createElement('img');\n      forEach(options.inheritedAttributes, function (name) {\n        var value = img.getAttribute(name);\n        if (value !== null) {\n          image.setAttribute(name, value);\n        }\n      });\n      image.src = url;\n      image.alt = alt;\n      if (isFunction(options.view)) {\n        addListener(element, EVENT_VIEW, options.view, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_VIEW, {\n        originalImage: this.images[index],\n        index: index,\n        image: image\n      }) === false || !this.isShown || this.hiding || this.played) {\n        return this;\n      }\n      var activeItem = this.items[this.index];\n      if (activeItem) {\n        removeClass(activeItem, CLASS_ACTIVE);\n        activeItem.removeAttribute('aria-selected');\n      }\n      addClass(item, CLASS_ACTIVE);\n      item.setAttribute('aria-selected', true);\n      if (options.focus) {\n        item.focus();\n      }\n      this.image = image;\n      this.viewed = false;\n      this.index = index;\n      this.imageData = {};\n      addClass(image, CLASS_INVISIBLE);\n      if (options.loading) {\n        addClass(canvas, CLASS_LOADING);\n      }\n      canvas.innerHTML = '';\n      canvas.appendChild(image);\n\n      // Center current item\n      this.renderList();\n\n      // Clear title\n      title.innerHTML = '';\n\n      // Generate title after viewed\n      var onViewed = function onViewed() {\n        var imageData = _this2.imageData;\n        var render = Array.isArray(options.title) ? options.title[1] : options.title;\n        title.innerHTML = escapeHTMLEntities(isFunction(render) ? render.call(_this2, image, imageData) : \"\".concat(alt, \" (\").concat(imageData.naturalWidth, \" \\xD7 \").concat(imageData.naturalHeight, \")\"));\n      };\n      var onLoad;\n      var onError;\n      addListener(element, EVENT_VIEWED, onViewed, {\n        once: true\n      });\n      this.viewing = {\n        abort: function abort() {\n          removeListener(element, EVENT_VIEWED, onViewed);\n          if (image.complete) {\n            if (_this2.imageRendering) {\n              _this2.imageRendering.abort();\n            } else if (_this2.imageInitializing) {\n              _this2.imageInitializing.abort();\n            }\n          } else {\n            // Cancel download to save bandwidth.\n            image.src = '';\n            removeListener(image, EVENT_LOAD, onLoad);\n            if (_this2.timeout) {\n              clearTimeout(_this2.timeout);\n            }\n          }\n        }\n      };\n      if (image.complete) {\n        this.load();\n      } else {\n        addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n          removeListener(image, EVENT_ERROR, onError);\n          _this2.load();\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n          if (_this2.timeout) {\n            clearTimeout(_this2.timeout);\n            _this2.timeout = false;\n          }\n          removeClass(image, CLASS_INVISIBLE);\n          if (options.loading) {\n            removeClass(_this2.canvas, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n\n        // Make the image visible if it fails to load within 1s\n        this.timeout = setTimeout(function () {\n          removeClass(image, CLASS_INVISIBLE);\n          _this2.timeout = false;\n        }, 1000);\n      }\n      return this;\n    },\n    /**\n     * View the previous image\n     * @param {boolean} [loop=false] - Indicate if view the last one\n     * when it is the first one at present.\n     * @returns {Viewer} this\n     */\n    prev: function prev() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var index = this.index - 1;\n      if (index < 0) {\n        index = loop ? this.length - 1 : 0;\n      }\n      this.view(index);\n      return this;\n    },\n    /**\n     * View the next image\n     * @param {boolean} [loop=false] - Indicate if view the first one\n     * when it is the last one at present.\n     * @returns {Viewer} this\n     */\n    next: function next() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var maxIndex = this.length - 1;\n      var index = this.index + 1;\n      if (index > maxIndex) {\n        index = loop ? 0 : maxIndex;\n      }\n      this.view(index);\n      return this;\n    },\n    /**\n     * Move the image with relative offsets.\n     * @param {number} x - The moving distance in the horizontal direction.\n     * @param {number} [y=x] The moving distance in the vertical direction.\n     * @returns {Viewer} this\n     */\n    move: function move(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var imageData = this.imageData;\n      this.moveTo(isUndefined(x) ? x : imageData.x + Number(x), isUndefined(y) ? y : imageData.y + Number(y));\n      return this;\n    },\n    /**\n     * Move the image to an absolute point.\n     * @param {number} x - The new position in the horizontal direction.\n     * @param {number} [y=x] - The new position in the vertical direction.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    moveTo: function moveTo(x) {\n      var _this3 = this;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      x = Number(x);\n      y = Number(y);\n      if (this.viewed && !this.played && options.movable) {\n        var oldX = imageData.x;\n        var oldY = imageData.y;\n        var changed = false;\n        if (isNumber(x)) {\n          changed = true;\n        } else {\n          x = oldX;\n        }\n        if (isNumber(y)) {\n          changed = true;\n        } else {\n          y = oldY;\n        }\n        if (changed) {\n          if (isFunction(options.move)) {\n            addListener(element, EVENT_MOVE, options.move, {\n              once: true\n            });\n          }\n          if (dispatchEvent(element, EVENT_MOVE, {\n            x: x,\n            y: y,\n            oldX: oldX,\n            oldY: oldY,\n            originalEvent: _originalEvent\n          }) === false) {\n            return this;\n          }\n          imageData.x = x;\n          imageData.y = y;\n          imageData.left = x;\n          imageData.top = y;\n          this.moving = true;\n          this.renderImage(function () {\n            _this3.moving = false;\n            if (isFunction(options.moved)) {\n              addListener(element, EVENT_MOVED, options.moved, {\n                once: true\n              });\n            }\n            dispatchEvent(element, EVENT_MOVED, {\n              x: x,\n              y: y,\n              oldX: oldX,\n              oldY: oldY,\n              originalEvent: _originalEvent\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n      return this;\n    },\n    /**\n     * Rotate the image with a relative degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotate: function rotate(degree) {\n      this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n      return this;\n    },\n    /**\n     * Rotate the image to an absolute degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotateTo: function rotateTo(degree) {\n      var _this4 = this;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      degree = Number(degree);\n      if (isNumber(degree) && this.viewed && !this.played && options.rotatable) {\n        var oldDegree = imageData.rotate;\n        if (isFunction(options.rotate)) {\n          addListener(element, EVENT_ROTATE, options.rotate, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_ROTATE, {\n          degree: degree,\n          oldDegree: oldDegree\n        }) === false) {\n          return this;\n        }\n        imageData.rotate = degree;\n        this.rotating = true;\n        this.renderImage(function () {\n          _this4.rotating = false;\n          if (isFunction(options.rotated)) {\n            addListener(element, EVENT_ROTATED, options.rotated, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_ROTATED, {\n            degree: degree,\n            oldDegree: oldDegree\n          }, {\n            cancelable: false\n          });\n        });\n      }\n      return this;\n    },\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Viewer} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      this.scale(_scaleX, this.imageData.scaleY);\n      return this;\n    },\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      this.scale(this.imageData.scaleX, _scaleY);\n      return this;\n    },\n    /**\n     * Scale the image.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scale: function scale(scaleX) {\n      var _this5 = this;\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n      if (this.viewed && !this.played && options.scalable) {\n        var oldScaleX = imageData.scaleX;\n        var oldScaleY = imageData.scaleY;\n        var changed = false;\n        if (isNumber(scaleX)) {\n          changed = true;\n        } else {\n          scaleX = oldScaleX;\n        }\n        if (isNumber(scaleY)) {\n          changed = true;\n        } else {\n          scaleY = oldScaleY;\n        }\n        if (changed) {\n          if (isFunction(options.scale)) {\n            addListener(element, EVENT_SCALE, options.scale, {\n              once: true\n            });\n          }\n          if (dispatchEvent(element, EVENT_SCALE, {\n            scaleX: scaleX,\n            scaleY: scaleY,\n            oldScaleX: oldScaleX,\n            oldScaleY: oldScaleY\n          }) === false) {\n            return this;\n          }\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n          this.scaling = true;\n          this.renderImage(function () {\n            _this5.scaling = false;\n            if (isFunction(options.scaled)) {\n              addListener(element, EVENT_SCALED, options.scaled, {\n                once: true\n              });\n            }\n            dispatchEvent(element, EVENT_SCALED, {\n              scaleX: scaleX,\n              scaleY: scaleY,\n              oldScaleX: oldScaleX,\n              oldScaleY: oldScaleY\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n      return this;\n    },\n    /**\n     * Zoom the image with a relative ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [showTooltip=false] - Indicates whether to show the tooltip.\n     * @param {Object} [pivot] - The pivot point coordinate for zooming.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    zoom: function zoom(ratio) {\n      var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var imageData = this.imageData;\n      ratio = Number(ratio);\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n      this.zoomTo(imageData.width * ratio / imageData.naturalWidth, showTooltip, pivot, _originalEvent);\n      return this;\n    },\n    /**\n     * Zoom the image to an absolute ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [showTooltip] - Indicates whether to show the tooltip.\n     * @param {Object} [pivot] - The pivot point coordinate for zooming.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @param {Event} [_zoomable=false] - Indicates if the current zoom is available or not.\n     * @returns {Viewer} this\n     */\n    zoomTo: function zoomTo(ratio) {\n      var _this6 = this;\n      var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var _zoomable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var element = this.element,\n        options = this.options,\n        pointers = this.pointers,\n        imageData = this.imageData;\n      var x = imageData.x,\n        y = imageData.y,\n        width = imageData.width,\n        height = imageData.height,\n        naturalWidth = imageData.naturalWidth,\n        naturalHeight = imageData.naturalHeight;\n      ratio = Math.max(0, ratio);\n      if (isNumber(ratio) && this.viewed && !this.played && (_zoomable || options.zoomable)) {\n        if (!_zoomable) {\n          var minZoomRatio = Math.max(0.01, options.minZoomRatio);\n          var maxZoomRatio = Math.min(100, options.maxZoomRatio);\n          ratio = Math.min(Math.max(ratio, minZoomRatio), maxZoomRatio);\n        }\n        if (_originalEvent) {\n          switch (_originalEvent.type) {\n            case 'wheel':\n              if (options.zoomRatio >= 0.055 && ratio > 0.95 && ratio < 1.05) {\n                ratio = 1;\n              }\n              break;\n            case 'pointermove':\n            case 'touchmove':\n            case 'mousemove':\n              if (ratio > 0.99 && ratio < 1.01) {\n                ratio = 1;\n              }\n              break;\n          }\n        }\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n        var offsetWidth = newWidth - width;\n        var offsetHeight = newHeight - height;\n        var oldRatio = imageData.ratio;\n        if (isFunction(options.zoom)) {\n          addListener(element, EVENT_ZOOM, options.zoom, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: oldRatio,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n        this.zooming = true;\n        if (_originalEvent) {\n          var offset = getOffset(this.viewer);\n          var center = pointers && Object.keys(pointers).length > 0 ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          };\n\n          // Zoom from the triggering point of the event\n          imageData.x -= offsetWidth * ((center.pageX - offset.left - x) / width);\n          imageData.y -= offsetHeight * ((center.pageY - offset.top - y) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          imageData.x -= offsetWidth * ((pivot.x - x) / width);\n          imageData.y -= offsetHeight * ((pivot.y - y) / height);\n        } else {\n          // Zoom from the center of the image\n          imageData.x -= offsetWidth / 2;\n          imageData.y -= offsetHeight / 2;\n        }\n        imageData.left = imageData.x;\n        imageData.top = imageData.y;\n        imageData.width = newWidth;\n        imageData.height = newHeight;\n        imageData.oldRatio = oldRatio;\n        imageData.ratio = ratio;\n        this.renderImage(function () {\n          _this6.zooming = false;\n          if (isFunction(options.zoomed)) {\n            addListener(element, EVENT_ZOOMED, options.zoomed, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_ZOOMED, {\n            ratio: ratio,\n            oldRatio: oldRatio,\n            originalEvent: _originalEvent\n          }, {\n            cancelable: false\n          });\n        });\n        if (showTooltip) {\n          this.tooltip();\n        }\n      }\n      return this;\n    },\n    /**\n     * Play the images\n     * @param {boolean|FullscreenOptions} [fullscreen=false] - Indicate if request fullscreen or not.\n     * @returns {Viewer} this\n     */\n    play: function play() {\n      var _this7 = this;\n      var fullscreen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!this.isShown || this.played) {\n        return this;\n      }\n      var element = this.element,\n        options = this.options;\n      if (isFunction(options.play)) {\n        addListener(element, EVENT_PLAY, options.play, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_PLAY) === false) {\n        return this;\n      }\n      var player = this.player;\n      var onLoad = this.loadImage.bind(this);\n      var list = [];\n      var total = 0;\n      var index = 0;\n      this.played = true;\n      this.onLoadWhenPlay = onLoad;\n      if (fullscreen) {\n        this.requestFullscreen(fullscreen);\n      }\n      addClass(player, CLASS_SHOW);\n      forEach(this.items, function (item, i) {\n        var img = item.querySelector('img');\n        var image = document.createElement('img');\n        image.src = getData(img, 'originalUrl');\n        image.alt = img.getAttribute('alt');\n        image.referrerPolicy = img.referrerPolicy;\n        total += 1;\n        addClass(image, CLASS_FADE);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n        if (hasClass(item, CLASS_ACTIVE)) {\n          addClass(image, CLASS_IN);\n          index = i;\n        }\n        list.push(image);\n        addListener(image, EVENT_LOAD, onLoad, {\n          once: true\n        });\n        player.appendChild(image);\n      });\n      if (isNumber(options.interval) && options.interval > 0) {\n        var prev = function prev() {\n          clearTimeout(_this7.playing.timeout);\n          removeClass(list[index], CLASS_IN);\n          index -= 1;\n          index = index >= 0 ? index : total - 1;\n          addClass(list[index], CLASS_IN);\n          _this7.playing.timeout = setTimeout(prev, options.interval);\n        };\n        var next = function next() {\n          clearTimeout(_this7.playing.timeout);\n          removeClass(list[index], CLASS_IN);\n          index += 1;\n          index = index < total ? index : 0;\n          addClass(list[index], CLASS_IN);\n          _this7.playing.timeout = setTimeout(next, options.interval);\n        };\n        if (total > 1) {\n          this.playing = {\n            prev: prev,\n            next: next,\n            timeout: setTimeout(next, options.interval)\n          };\n        }\n      }\n      return this;\n    },\n    // Stop play\n    stop: function stop() {\n      var _this8 = this;\n      if (!this.played) {\n        return this;\n      }\n      var element = this.element,\n        options = this.options;\n      if (isFunction(options.stop)) {\n        addListener(element, EVENT_STOP, options.stop, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_STOP) === false) {\n        return this;\n      }\n      var player = this.player;\n      clearTimeout(this.playing.timeout);\n      this.playing = false;\n      this.played = false;\n      forEach(player.getElementsByTagName('img'), function (image) {\n        removeListener(image, EVENT_LOAD, _this8.onLoadWhenPlay);\n      });\n      removeClass(player, CLASS_SHOW);\n      player.innerHTML = '';\n      this.exitFullscreen();\n      return this;\n    },\n    // Enter modal mode (only available in inline mode)\n    full: function full() {\n      var _this9 = this;\n      var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n      if (!this.isShown || this.played || this.fulled || !options.inline) {\n        return this;\n      }\n      this.fulled = true;\n      this.open();\n      addClass(this.button, CLASS_FULLSCREEN_EXIT);\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n      addClass(viewer, CLASS_FIXED);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('style');\n      setStyle(viewer, {\n        zIndex: options.zIndex\n      });\n      if (options.focus) {\n        this.enforceFocus();\n      }\n      this.initContainer();\n      this.viewerData = assign({}, this.containerData);\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this9.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n      return this;\n    },\n    // Exit modal mode (only available in inline mode)\n    exit: function exit() {\n      var _this10 = this;\n      var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n      if (!this.isShown || this.played || !this.fulled || !options.inline) {\n        return this;\n      }\n      this.fulled = false;\n      this.close();\n      removeClass(this.button, CLASS_FULLSCREEN_EXIT);\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n      if (options.focus) {\n        this.clearEnforceFocus();\n      }\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      removeClass(viewer, CLASS_FIXED);\n      setStyle(viewer, {\n        zIndex: options.zIndexInline\n      });\n      this.viewerData = assign({}, this.parentData);\n      this.renderViewer();\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this10.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n      return this;\n    },\n    // Show the current ratio of the image with percentage\n    tooltip: function tooltip() {\n      var _this11 = this;\n      var options = this.options,\n        tooltipBox = this.tooltipBox,\n        imageData = this.imageData;\n      if (!this.viewed || this.played || !options.tooltip) {\n        return this;\n      }\n      tooltipBox.textContent = \"\".concat(Math.round(imageData.ratio * 100), \"%\");\n      if (!this.tooltipping) {\n        if (options.transition) {\n          if (this.fading) {\n            dispatchEvent(tooltipBox, EVENT_TRANSITION_END);\n          }\n          addClass(tooltipBox, CLASS_SHOW);\n          addClass(tooltipBox, CLASS_FADE);\n          addClass(tooltipBox, CLASS_TRANSITION);\n          tooltipBox.removeAttribute('aria-hidden');\n\n          // Force reflow to enable CSS3 transition\n          tooltipBox.initialOffsetWidth = tooltipBox.offsetWidth;\n          addClass(tooltipBox, CLASS_IN);\n        } else {\n          addClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.removeAttribute('aria-hidden');\n        }\n      } else {\n        clearTimeout(this.tooltipping);\n      }\n      this.tooltipping = setTimeout(function () {\n        if (options.transition) {\n          addListener(tooltipBox, EVENT_TRANSITION_END, function () {\n            removeClass(tooltipBox, CLASS_SHOW);\n            removeClass(tooltipBox, CLASS_FADE);\n            removeClass(tooltipBox, CLASS_TRANSITION);\n            tooltipBox.setAttribute('aria-hidden', true);\n            _this11.fading = false;\n          }, {\n            once: true\n          });\n          removeClass(tooltipBox, CLASS_IN);\n          _this11.fading = true;\n        } else {\n          removeClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.setAttribute('aria-hidden', true);\n        }\n        _this11.tooltipping = false;\n      }, 1000);\n      return this;\n    },\n    /**\n     * Toggle the image size between its current size and natural size\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    toggle: function toggle() {\n      var _originalEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (this.imageData.ratio === 1) {\n        this.zoomTo(this.imageData.oldRatio, true, null, _originalEvent);\n      } else {\n        this.zoomTo(1, true, null, _originalEvent);\n      }\n      return this;\n    },\n    // Reset the image to its initial state\n    reset: function reset() {\n      if (this.viewed && !this.played) {\n        this.imageData = assign({}, this.initialImageData);\n        this.renderImage();\n      }\n      return this;\n    },\n    // Update viewer when images changed\n    update: function update() {\n      var _this12 = this;\n      var element = this.element,\n        options = this.options,\n        isImg = this.isImg;\n\n      // Destroy viewer if the target image was deleted\n      if (isImg && !element.parentNode) {\n        return this.destroy();\n      }\n      var images = [];\n      forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n        if (isFunction(options.filter)) {\n          if (options.filter.call(_this12, image)) {\n            images.push(image);\n          }\n        } else if (_this12.getImageURL(image)) {\n          images.push(image);\n        }\n      });\n      if (!images.length) {\n        return this;\n      }\n      this.images = images;\n      this.length = images.length;\n      if (this.ready) {\n        var changedIndexes = [];\n        forEach(this.items, function (item, i) {\n          var img = item.querySelector('img');\n          var image = images[i];\n          if (image && img) {\n            if (image.src !== img.src\n\n            // Title changed (#408)\n            || image.alt !== img.alt) {\n              changedIndexes.push(i);\n            }\n          } else {\n            changedIndexes.push(i);\n          }\n        });\n        setStyle(this.list, {\n          width: 'auto'\n        });\n        this.initList();\n        if (this.isShown) {\n          if (this.length) {\n            if (this.viewed) {\n              var changedIndex = changedIndexes.indexOf(this.index);\n              if (changedIndex >= 0) {\n                this.viewed = false;\n                this.view(Math.max(Math.min(this.index - changedIndex, this.length - 1), 0));\n              } else {\n                var activeItem = this.items[this.index];\n\n                // Reactivate the current viewing item after reset the list.\n                addClass(activeItem, CLASS_ACTIVE);\n                activeItem.setAttribute('aria-selected', true);\n              }\n            }\n          } else {\n            this.image = null;\n            this.viewed = false;\n            this.index = 0;\n            this.imageData = {};\n            this.canvas.innerHTML = '';\n            this.title.innerHTML = '';\n          }\n        }\n      } else {\n        this.build();\n      }\n      return this;\n    },\n    // Destroy the viewer\n    destroy: function destroy() {\n      var element = this.element,\n        options = this.options;\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n      this.destroyed = true;\n      if (this.ready) {\n        if (this.played) {\n          this.stop();\n        }\n        if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          }\n          this.unbind();\n        } else if (this.isShown) {\n          if (this.viewing) {\n            if (this.imageRendering) {\n              this.imageRendering.abort();\n            } else if (this.imageInitializing) {\n              this.imageInitializing.abort();\n            }\n          }\n          if (this.hiding) {\n            this.transitioning.abort();\n          }\n          this.hidden();\n        } else if (this.showing) {\n          this.transitioning.abort();\n          this.hidden();\n        }\n        this.ready = false;\n        this.viewer.parentNode.removeChild(this.viewer);\n      } else if (options.inline) {\n        if (this.delaying) {\n          this.delaying.abort();\n        } else if (this.initializing) {\n          this.initializing.abort();\n        }\n      }\n      if (!options.inline) {\n        removeListener(element, EVENT_CLICK, this.onStart);\n      }\n      element[NAMESPACE] = undefined;\n      return this;\n    }\n  };\n\n  var others = {\n    getImageURL: function getImageURL(image) {\n      var url = this.options.url;\n      if (isString(url)) {\n        url = image.getAttribute(url);\n      } else if (isFunction(url)) {\n        url = url.call(this, image);\n      } else {\n        url = '';\n      }\n      return url;\n    },\n    enforceFocus: function enforceFocus() {\n      var _this = this;\n      this.clearEnforceFocus();\n      addListener(document, EVENT_FOCUSIN, this.onFocusin = function (event) {\n        var viewer = _this.viewer;\n        var target = event.target;\n        if (target === document || target === viewer || viewer.contains(target)) {\n          return;\n        }\n        while (target) {\n          // Avoid conflicts with other modals (#474, #540)\n          if (target.getAttribute('tabindex') !== null || target.getAttribute('aria-modal') === 'true') {\n            return;\n          }\n          target = target.parentElement;\n        }\n        viewer.focus();\n      });\n    },\n    clearEnforceFocus: function clearEnforceFocus() {\n      if (this.onFocusin) {\n        removeListener(document, EVENT_FOCUSIN, this.onFocusin);\n        this.onFocusin = null;\n      }\n    },\n    open: function open() {\n      var body = this.body;\n      addClass(body, CLASS_OPEN);\n      if (this.scrollbarWidth > 0) {\n        body.style.paddingRight = \"\".concat(this.scrollbarWidth + (parseFloat(this.initialBodyComputedPaddingRight) || 0), \"px\");\n      }\n    },\n    close: function close() {\n      var body = this.body;\n      removeClass(body, CLASS_OPEN);\n      if (this.scrollbarWidth > 0) {\n        body.style.paddingRight = this.initialBodyPaddingRight;\n      }\n    },\n    shown: function shown() {\n      var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n      this.fulled = true;\n      this.isShown = true;\n      this.render();\n      this.bind();\n      this.showing = false;\n      if (options.focus) {\n        viewer.focus();\n        this.enforceFocus();\n      }\n      if (isFunction(options.shown)) {\n        addListener(element, EVENT_SHOWN, options.shown, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_SHOWN) === false) {\n        return;\n      }\n      if (this.ready && this.isShown && !this.hiding) {\n        this.view(this.index);\n      }\n    },\n    hidden: function hidden() {\n      var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n      if (options.fucus) {\n        this.clearEnforceFocus();\n      }\n      this.close();\n      this.unbind();\n      addClass(viewer, CLASS_HIDE);\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      viewer.setAttribute('aria-hidden', true);\n      this.resetList();\n      this.resetImage();\n      this.fulled = false;\n      this.viewed = false;\n      this.isShown = false;\n      this.hiding = false;\n      if (!this.destroyed) {\n        if (isFunction(options.hidden)) {\n          addListener(element, EVENT_HIDDEN, options.hidden, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_HIDDEN, null, {\n          cancelable: false\n        });\n      }\n    },\n    requestFullscreen: function requestFullscreen(options) {\n      var document = this.element.ownerDocument;\n      if (this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        var documentElement = document.documentElement;\n\n        // Element.requestFullscreen()\n        if (documentElement.requestFullscreen) {\n          // Avoid TypeError when convert `options` to dictionary\n          if (isPlainObject(options)) {\n            documentElement.requestFullscreen(options);\n          } else {\n            documentElement.requestFullscreen();\n          }\n        } else if (documentElement.webkitRequestFullscreen) {\n          documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n        } else if (documentElement.mozRequestFullScreen) {\n          documentElement.mozRequestFullScreen();\n        } else if (documentElement.msRequestFullscreen) {\n          documentElement.msRequestFullscreen();\n        }\n      }\n    },\n    exitFullscreen: function exitFullscreen() {\n      var document = this.element.ownerDocument;\n      if (this.fulled && (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        // Document.exitFullscreen()\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      }\n    },\n    change: function change(event) {\n      var options = this.options,\n        pointers = this.pointers;\n      var pointer = pointers[Object.keys(pointers)[0]];\n\n      // In the case of the `pointers` object is empty (#421)\n      if (!pointer) {\n        return;\n      }\n      var offsetX = pointer.endX - pointer.startX;\n      var offsetY = pointer.endY - pointer.startY;\n      switch (this.action) {\n        // Move the current image\n        case ACTION_MOVE:\n          if (offsetX !== 0 || offsetY !== 0) {\n            this.pointerMoved = true;\n            this.move(offsetX, offsetY, event);\n          }\n          break;\n\n        // Zoom the current image\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), false, null, event);\n          break;\n        case ACTION_SWITCH:\n          {\n            this.action = 'switched';\n            var absoluteOffsetX = Math.abs(offsetX);\n            if (absoluteOffsetX > 1 && absoluteOffsetX > Math.abs(offsetY)) {\n              // Empty `pointers` as `touchend` event will not be fired after swiped in iOS browsers.\n              this.pointers = {};\n              if (offsetX > 1) {\n                this.prev(options.loop);\n              } else if (offsetX < -1) {\n                this.next(options.loop);\n              }\n            }\n            break;\n          }\n      }\n\n      // Override\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    },\n    isSwitchable: function isSwitchable() {\n      var imageData = this.imageData,\n        viewerData = this.viewerData;\n      return this.length > 1 && imageData.x >= 0 && imageData.y >= 0 && imageData.width <= viewerData.width && imageData.height <= viewerData.height;\n    }\n  };\n\n  var AnotherViewer = WINDOW.Viewer;\n  var getUniqueID = function (id) {\n    return function () {\n      id += 1;\n      return id;\n    };\n  }(-1);\n  var Viewer = /*#__PURE__*/function () {\n    /**\n     * Create a new Viewer.\n     * @param {Element} element - The target element for viewing.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Viewer(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      _classCallCheck(this, Viewer);\n      if (!element || element.nodeType !== 1) {\n        throw new Error('The first argument is required and must be an element.');\n      }\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.action = false;\n      this.fading = false;\n      this.fulled = false;\n      this.hiding = false;\n      this.imageClicked = false;\n      this.imageData = {};\n      this.index = this.options.initialViewIndex;\n      this.isImg = false;\n      this.isShown = false;\n      this.length = 0;\n      this.moving = false;\n      this.played = false;\n      this.playing = false;\n      this.pointers = {};\n      this.ready = false;\n      this.rotating = false;\n      this.scaling = false;\n      this.showing = false;\n      this.timeout = false;\n      this.tooltipping = false;\n      this.viewed = false;\n      this.viewing = false;\n      this.wheeling = false;\n      this.zooming = false;\n      this.pointerMoved = false;\n      this.id = getUniqueID();\n      this.init();\n    }\n    _createClass(Viewer, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n        var element = this.element,\n          options = this.options;\n        if (element[NAMESPACE]) {\n          return;\n        }\n        element[NAMESPACE] = this;\n\n        // The `focus` option requires the `keyboard` option set to `true`.\n        if (options.focus && !options.keyboard) {\n          options.focus = false;\n        }\n        var isImg = element.localName === 'img';\n        var images = [];\n        forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n          if (isFunction(options.filter)) {\n            if (options.filter.call(_this, image)) {\n              images.push(image);\n            }\n          } else if (_this.getImageURL(image)) {\n            images.push(image);\n          }\n        });\n        this.isImg = isImg;\n        this.length = images.length;\n        this.images = images;\n        this.initBody();\n\n        // Override `transition` option if it is not supported\n        if (isUndefined(document.createElement(NAMESPACE).style.transition)) {\n          options.transition = false;\n        }\n        if (options.inline) {\n          var count = 0;\n          var progress = function progress() {\n            count += 1;\n            if (count === _this.length) {\n              var timeout;\n              _this.initializing = false;\n              _this.delaying = {\n                abort: function abort() {\n                  clearTimeout(timeout);\n                }\n              };\n\n              // build asynchronously to keep `this.viewer` is accessible in `ready` event handler.\n              timeout = setTimeout(function () {\n                _this.delaying = false;\n                _this.build();\n              }, 0);\n            }\n          };\n          this.initializing = {\n            abort: function abort() {\n              forEach(images, function (image) {\n                if (!image.complete) {\n                  removeListener(image, EVENT_LOAD, progress);\n                  removeListener(image, EVENT_ERROR, progress);\n                }\n              });\n            }\n          };\n          forEach(images, function (image) {\n            if (image.complete) {\n              progress();\n            } else {\n              var onLoad;\n              var onError;\n              addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n                removeListener(image, EVENT_ERROR, onError);\n                progress();\n              }, {\n                once: true\n              });\n              addListener(image, EVENT_ERROR, onError = function onError() {\n                removeListener(image, EVENT_LOAD, onLoad);\n                progress();\n              }, {\n                once: true\n              });\n            }\n          });\n        } else {\n          addListener(element, EVENT_CLICK, this.onStart = function (_ref) {\n            var target = _ref.target;\n            if (target.localName === 'img' && (!isFunction(options.filter) || options.filter.call(_this, target))) {\n              _this.view(_this.images.indexOf(target));\n            }\n          });\n        }\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (this.ready) {\n          return;\n        }\n        var element = this.element,\n          options = this.options;\n        var parent = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var viewer = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var title = viewer.querySelector(\".\".concat(NAMESPACE, \"-title\"));\n        var toolbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-toolbar\"));\n        var navbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-navbar\"));\n        var button = viewer.querySelector(\".\".concat(NAMESPACE, \"-button\"));\n        var canvas = viewer.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        this.parent = parent;\n        this.viewer = viewer;\n        this.title = title;\n        this.toolbar = toolbar;\n        this.navbar = navbar;\n        this.button = button;\n        this.canvas = canvas;\n        this.footer = viewer.querySelector(\".\".concat(NAMESPACE, \"-footer\"));\n        this.tooltipBox = viewer.querySelector(\".\".concat(NAMESPACE, \"-tooltip\"));\n        this.player = viewer.querySelector(\".\".concat(NAMESPACE, \"-player\"));\n        this.list = viewer.querySelector(\".\".concat(NAMESPACE, \"-list\"));\n        viewer.id = \"\".concat(NAMESPACE).concat(this.id);\n        title.id = \"\".concat(NAMESPACE, \"Title\").concat(this.id);\n        addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(Array.isArray(options.title) ? options.title[0] : options.title));\n        addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));\n        toggleClass(button, CLASS_HIDE, !options.button);\n        if (options.keyboard) {\n          button.setAttribute('tabindex', 0);\n        }\n        if (options.backdrop) {\n          addClass(viewer, \"\".concat(NAMESPACE, \"-backdrop\"));\n          if (!options.inline && options.backdrop !== 'static') {\n            setData(canvas, DATA_ACTION, 'hide');\n          }\n        }\n        if (isString(options.className) && options.className) {\n          // In case there are multiple class names\n          options.className.split(REGEXP_SPACES).forEach(function (className) {\n            addClass(viewer, className);\n          });\n        }\n        if (options.toolbar) {\n          var list = document.createElement('ul');\n          var custom = isPlainObject(options.toolbar);\n          var zoomButtons = BUTTONS.slice(0, 3);\n          var rotateButtons = BUTTONS.slice(7, 9);\n          var scaleButtons = BUTTONS.slice(9);\n          if (!custom) {\n            addClass(toolbar, getResponsiveClass(options.toolbar));\n          }\n          forEach(custom ? options.toolbar : BUTTONS, function (value, index) {\n            var deep = custom && isPlainObject(value);\n            var name = custom ? hyphenate(index) : value;\n            var show = deep && !isUndefined(value.show) ? value.show : value;\n            if (!show || !options.zoomable && zoomButtons.indexOf(name) !== -1 || !options.rotatable && rotateButtons.indexOf(name) !== -1 || !options.scalable && scaleButtons.indexOf(name) !== -1) {\n              return;\n            }\n            var size = deep && !isUndefined(value.size) ? value.size : value;\n            var click = deep && !isUndefined(value.click) ? value.click : value;\n            var item = document.createElement('li');\n            if (options.keyboard) {\n              item.setAttribute('tabindex', 0);\n            }\n            item.setAttribute('role', 'button');\n            addClass(item, \"\".concat(NAMESPACE, \"-\").concat(name));\n            if (!isFunction(click)) {\n              setData(item, DATA_ACTION, name);\n            }\n            if (isNumber(show)) {\n              addClass(item, getResponsiveClass(show));\n            }\n            if (['small', 'large'].indexOf(size) !== -1) {\n              addClass(item, \"\".concat(NAMESPACE, \"-\").concat(size));\n            } else if (name === 'play') {\n              addClass(item, \"\".concat(NAMESPACE, \"-large\"));\n            }\n            if (isFunction(click)) {\n              addListener(item, EVENT_CLICK, click);\n            }\n            list.appendChild(item);\n          });\n          toolbar.appendChild(list);\n        } else {\n          addClass(toolbar, CLASS_HIDE);\n        }\n        if (!options.rotatable) {\n          var rotates = toolbar.querySelectorAll('li[class*=\"rotate\"]');\n          addClass(rotates, CLASS_INVISIBLE);\n          forEach(rotates, function (rotate) {\n            toolbar.appendChild(rotate);\n          });\n        }\n        if (options.inline) {\n          addClass(button, CLASS_FULLSCREEN);\n          setStyle(viewer, {\n            zIndex: options.zIndexInline\n          });\n          if (window.getComputedStyle(parent).position === 'static') {\n            setStyle(parent, {\n              position: 'relative'\n            });\n          }\n          parent.insertBefore(viewer, element.nextSibling);\n        } else {\n          addClass(button, CLASS_CLOSE);\n          addClass(viewer, CLASS_FIXED);\n          addClass(viewer, CLASS_FADE);\n          addClass(viewer, CLASS_HIDE);\n          setStyle(viewer, {\n            zIndex: options.zIndex\n          });\n          var container = options.container;\n          if (isString(container)) {\n            container = element.ownerDocument.querySelector(container);\n          }\n          if (!container) {\n            container = this.body;\n          }\n          container.appendChild(viewer);\n        }\n        if (options.inline) {\n          this.render();\n          this.bind();\n          this.isShown = true;\n        }\n        this.ready = true;\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_READY) === false) {\n          this.ready = false;\n          return;\n        }\n        if (this.ready && options.inline) {\n          this.view(this.index);\n        }\n      }\n\n      /**\n       * Get the no conflict viewer class.\n       * @returns {Viewer} The viewer class.\n       */\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Viewer = AnotherViewer;\n        return Viewer;\n      }\n\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n    return Viewer;\n  }();\n  assign(Viewer.prototype, render, events, handlers, methods, others);\n\n  return Viewer;\n\n}));\n"],"names":["freeGlobal","g","Object","freeGlobal$1","freeSelf","self","root","Function","root$1","Symbol$1","Symbol","Symbol$2","objectProto$8","prototype","hasOwnProperty$6","hasOwnProperty","nativeObjectToString$1","toString","symToStringTag$1","toStringTag","getRawTag","value","isOwn","call","tag","unmasked","e","result","objectProto$7","nativeObjectToString","objectToString","nullTag","undefinedTag","symToStringTag","baseGetTag","isObjectLike","symbolTag","isSymbol","isArray","Array","isArray$1","reWhitespace","trimmedEndIndex","string","index2","length","test","charAt","reTrimStart","baseTrim","slice","replace","isObject","type","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","other","valueOf","isBinary","identity","asyncTag","funcTag$1","genTag","proxyTag","isFunction","coreJsData","coreJsData$1","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","func","funcProto$1","funcToString$1","toSource","reRegExpChar","reIsHostCtor","funcProto","objectProto$6","funcToString","hasOwnProperty$5","reIsNative","RegExp","baseIsNative","pattern","getValue","object","key","getNative","apply","thisArg","args","HOT_COUNT","HOT_SPAN","nativeNow","Date","now","shortOut","count","lastCalled","stamp","remaining","arguments","constant","defineProperty","defineProperty$1","baseSetToString","baseSetToString$1","setToString","setToString$1","MAX_SAFE_INTEGER$1","reIsUint","isIndex","baseAssignValue","eq","objectProto$5","hasOwnProperty$4","assignValue","objValue","copyObject","source","props","customizer","isNew","newValue","nativeMax$1","Math","max","overRest","start","transform","array","otherArgs","this","baseRest","MAX_SAFE_INTEGER","isLength","isArrayLike","isIterateeCall","createAssigner","assigner","sources","guard","objectProto$4","isPrototype","Ctor","constructor","proto","baseTimes","n","iteratee","argsTag$1","baseIsArguments","objectProto$3","hasOwnProperty$3","propertyIsEnumerable","isArguments","isArguments$1","stubFalse","freeExports$1","exports","nodeType","freeModule$1","module","moduleExports$1","Buffer","nativeIsBuffer","isBuffer","isBuffer$1","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","types","require","binding","nodeUtil$1","nodeIsTypedArray","isTypedArray","isTypedArray$1","objectProto$2","hasOwnProperty$2","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","push","overArg","arg","nativeKeys","nativeKeys$1","objectProto$1","hasOwnProperty$1","baseKeys","objectProto","assign","assign$1","now$1","FUNC_ERROR_TEXT","nativeMax","nativeMin","min","debounce","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","render","_vm","_h","$createElement","_c","_self","_t","images","staticRenderFns","normalizeComponent","scriptExports","render2","staticRenderFns2","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","__vue2_script","rebuild","Boolean","default","trigger","data","computed","watch","$nextTick","onChange","handler","deep","rebuildViewer","mounted","createViewer","unmounted","destroyViewer","methods","updateViewer","$viewer","update","$emit","destroy","$el","__cssModules","__component__","__vue2_injectStyles","o","component","directive","name","debug","el","observer","imageDiff","log","imageContent","innerHTML","match","viewerImageText","join","__viewerImageDiffCache","createObserver","debouncedCreateViewer","destroyObserver","MutationObserver","window","WebKitMutationObserver","MozMutationObserver","mutations","forEach","mutation","config","attributes","childList","characterData","subtree","observe","__viewerMutationObserver","createWatcher","expression","vnode","simplePathRE","__viewerUnwatch","$watch","newVal","oldVal","disconnect","destroyWatcher","console","directive2","bind","modifiers","static","unbind","api","inline","ViewerToken","extend","style","display","class","map","attr","attrs","src","token","$mount","document","body","appendChild","$destroy","removeChild","show","addEventListener","viewer","index","install","Vue2","defaultOptions","setDefaults","global","factory","ownKeys","r","t","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","iterator","_classCallCheck","instance","Constructor","_defineProperties","target","i","descriptor","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","obj","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","Number","DEFAULTS","backdrop","button","navbar","title","toolbar","className","container","fullscreen","inheritedAttributes","initialCoverage","initialViewIndex","interval","keyboard","focus","loading","loop","minWidth","minHeight","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","slideOnTouch","toggleOnDblclick","tooltip","transition","zIndex","zIndexInline","zoomRatio","minZoomRatio","maxZoomRatio","url","ready","shown","hide","hidden","view","viewed","move","moved","rotate","rotated","scale","scaled","zoom","zoomed","play","stop","TEMPLATE","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_MOVE","ACTION_SWITCH","ACTION_ZOOM","CLASS_ACTIVE","CLASS_CLOSE","CLASS_FADE","CLASS_FIXED","CLASS_FULLSCREEN","CLASS_FULLSCREEN_EXIT","CLASS_HIDE","CLASS_HIDE_MD_DOWN","CLASS_HIDE_SM_DOWN","CLASS_HIDE_XS_DOWN","CLASS_IN","CLASS_INVISIBLE","CLASS_LOADING","CLASS_MOVE","CLASS_OPEN","CLASS_SHOW","CLASS_TRANSITION","EVENT_CLICK","EVENT_DBLCLICK","EVENT_DRAG_START","EVENT_FOCUSIN","EVENT_KEY_DOWN","EVENT_LOAD","EVENT_ERROR","EVENT_TOUCH_END","EVENT_TOUCH_MOVE","EVENT_TOUCH_START","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_RESIZE","EVENT_TRANSITION_END","EVENT_WHEEL","EVENT_READY","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","EVENT_VIEW","EVENT_VIEWED","EVENT_MOVE","EVENT_MOVED","EVENT_ROTATE","EVENT_ROTATED","EVENT_SCALE","EVENT_SCALED","EVENT_ZOOM","EVENT_ZOOMED","EVENT_PLAY","EVENT_STOP","DATA_ACTION","REGEXP_SPACES","BUTTONS","isString","isNaN","isNumber","isUndefined","isPlainObject","_constructor","error","callback","_len","_key","REGEXP_SUFFIX","setStyle","element","styles","property","escapeHTMLEntities","hasClass","classList","contains","indexOf","addClass","elem","trim","removeClass","remove","toggleClass","added","REGEXP_HYPHENATE","hyphenate","toLowerCase","getData","dataset","getAttribute","setData","setAttribute","onceSupported","supported","once","listener","get","set","removeEventListener","removeListener","split","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","bubbles","cancelable","detail","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","getTransforms","_ref","scaleX","scaleY","translateX","translateY","values","WebkitTransform","msTransform","getImageNameFromURL","decodeURIComponent","IS_SAFARI","navigator","userAgent","getImageNaturalSizes","image","newImage","createElement","naturalWidth","naturalHeight","onload","width","height","cssText","getResponsiveClass","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","sort","a","b","getPointer","_ref2","endOnly","pageX","pageY","end","timeStamp","getPointersCenter","_ref3","initContainer","initViewer","initList","renderViewer","initBody","ownerDocument","scrollbarWidth","innerWidth","clientWidth","initialBodyPaddingRight","paddingRight","initialBodyComputedPaddingRight","getComputedStyle","containerData","innerHeight","viewerData","offsetWidth","offsetHeight","parentData","fulled","_this","list","items","alt","getImageURL","item","img","onLoad","onError","firstElementChild","loadImage","renderList","next","nextElementSibling","gutter","marginLeft","outerWidth","resetList","initImage","done","sizingImage","_this2","footerHeight","footer","viewerWidth","viewerHeight","oldImageData","imageData","imageInitializing","abort","aspectRatio","x","y","oldRatio","initialImageData","renderImage","_this3","marginTop","viewing","moving","rotating","scaling","zooming","onTransitionEnd","imageRendering","resetImage","parentNode","events","canvas","onClick","click","onDragStart","dragstart","onPointerDown","pointerdown","onPointerMove","pointermove","onPointerUp","pointerup","onKeyDown","keydown","onResize","resize","onWheel","wheel","passive","capture","onDblclick","dblclick","handlers","action","localName","parentElement","isTrusted","clickCanvasTimeout","played","exit","full","pointerMoved","toggle","reset","prev","preventDefault","doubleClickImageTimeout","originalEvent","load","timeout","originalImage","parentWidth","parentHeight","filled","keyCode","which","charCode","playing","ctrlKey","buttons","showing","hiding","pointerType","changedTouches","touch","identifier","isSwitchable","change","imageClicked","isShown","close","open","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","player","getElementsByTagName","_this4","wheeling","delta","deltaY","wheelDelta","immediate","build","transitioning","id","removeAttribute","initialOffsetWidth","hideImmediately","onViewerTransitionEnd","onImageTransitionEnd","zoomTo","querySelector","activeItem","onViewed","complete","maxIndex","moveTo","_originalEvent","oldX","oldY","changed","degree","rotateTo","oldDegree","_scaleX","_scaleY","_this5","oldScaleX","oldScaleY","showTooltip","pivot","_this6","_zoomable","newWidth","newHeight","offset","center","_this7","total","onLoadWhenPlay","requestFullscreen","referrerPolicy","_this8","exitFullscreen","_this9","enforceFocus","_this10","clearEnforceFocus","_this11","tooltipBox","textContent","round","tooltipping","fading","_this12","isImg","querySelectorAll","changedIndexes","changedIndex","destroyed","delaying","initializing","onStart","others","onFocusin","parseFloat","fucus","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","mozRequestFullScreen","msRequestFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","offsetX","offsetY","absoluteOffsetX","p","AnotherViewer","Viewer","getUniqueID","Error","init","progress","template","custom","zoomButtons","rotateButtons","scaleButtons","size","rotates","position","insertBefore","nextSibling"],"sourceRoot":""}